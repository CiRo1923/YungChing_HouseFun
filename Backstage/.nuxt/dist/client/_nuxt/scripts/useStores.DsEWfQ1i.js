import{a2 as m,C as S}from"./entry.BKKcR4L7.js";import{t as G}from"./_prototype.6FgksIwr.js";import{u as h}from"./basic.ClQ1XBO8.js";import{u as C}from"./project.DjxAtExN.js";const{public:R}=m(),P=R.NUXT_PUBLIC_APP_MODE==="dev",A=new Set(["post","put","patch"]),M=(a,g)=>{const r=Array.from(a.matchAll(/\{\s?(\w+)\s?\}/g)).map(c=>c[1]);let n=a;for(const c of r){const p=g?.[c];if(p==null||p==="")throw new Error(`[useFetchApi] missing path param: ${c}`);n=n.replaceAll(`{${c}}`,encodeURIComponent(String(p)))}return{url:n,usedKeys:new Set(r)}},D=a=>a?Object.fromEntries(a.entries()):{},b=a=>a!=null&&Object.prototype.toString.call(a)==="[object Object]",i=async(a,g,r)=>{const n=a.toLowerCase(),{url:c,usedKeys:p}=M(g,r),E={};for(const[o,l]of Object.entries(r??{}))!p.has(o)&&l!==void 0&&(E[o]=l);const u={method:n};Object.keys(E).length&&(A.has(n)?u.body=E:u.query=E);const s=c.startsWith("/")?c:`/${c}`,t=P?void 0:R.NUXT_PUBLIC_API_PATH,e=void 0;try{const o=await $fetch.raw(s,{...u,baseURL:t,headers:e}),l={method:n,baseURL:t??"",url:s,query:b(u.query)?u.query:void 0,body:b(u.body)?u.body:void 0};return{status:o.status,statusText:o.statusText,headers:D(o.headers),config:l,data:o._data}}catch(o){const l=o?.response?.status,v=o?.response?._data,y=new Error(o?.message||"Fetch error");throw y.statusCode=l,y.data=v,y}},F=async a=>await i("get","api/v1/buy/realEstatePurpose/check-options",a),j=async a=>await i("get","api/v1/buy/city/select-options",a),U=async a=>await i("get","api/v1/buy/{cityCode}/district/select-options",a),k=async a=>await i("get","api/v1/buy/{cityCode}/{districtCode}/Road",a),L=async a=>await i("get","api/v1/buy/realEstateType/select-options",a),q=async a=>await i("get","api/v1/buy/realEstateLegalUsage/select-options",a),Z=async a=>await i("get","api/v1/buy/realEstateZoing/check-options",a),_=async a=>await i("get","api/v1/buy/realEstateZoingCity/select-options",a),B=async a=>await i("get","api/v1/buy/realEstateZoingLand/select-options",a),K=async a=>await i("get","api/v1/buy/realEstateFloor/select-options",a),$=async a=>await i("get","api/v1/buy/realEstateFace/select-options",a),N=async a=>await i("get","api/v1/buy/realEstateStruction/select-options",a),x=async a=>await i("get","api/v1/buy/realEstateBarrierfree/check-options",a),I=async a=>await i("get","api/v1/buy/realEstateManageType/select-opstions",a),H=async a=>await i("get","api/v1/buy/realEstateManageDuty/select-opstions",a),z=async a=>await i("get","api/v1/buy/realEstateManagePayPeriod/select-opstions",a),Q=()=>{const a=C(),g=h(),{apiData:r,options:n}=S(a),{pingData:c,currentUnit:p}=S(g);return{project:{onApiGETRealEstatePurposeCheckOptions:async()=>{const{config:s,status:t,data:e}=await F();return t===200&&(n.value.casePurpose=e||[]),{config:s,status:t,data:e}},onApiGETCitySelectOptions:async()=>{const{config:s,status:t,data:e}=await j();return t===200&&(n.value.city=e||[]),{config:s,status:t,data:e}},onApiGETDistrictSelectOptions:async s=>{const{config:t,status:e,data:o}=await U({cityCode:s});return{config:t,status:e,data:o}},onApiGETRoad:async(s,t)=>{const{config:e,status:o,data:l}=await k({cityCode:s,districtCode:t});return{config:e,status:o,data:l}},onApiGETRealEstateTypeSelectOptions:async()=>{const{config:s,status:t,data:e}=await L();return t===200&&(n.value.caseType=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateLegalUsageSelectOptions:async()=>{const{config:s,status:t,data:e}=await q();return t===200&&(n.value.caseUsage=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateZoingCheckOptions:async()=>{const{config:s,status:t,data:e}=await Z();return t===200&&(n.value.caseZoing=e||[],r.value.caseZoingToken=e[0].code),{config:s,status:t,data:e}},onApiGETRealEstateZoingCitySelectOptions:async()=>{const{config:s,status:t,data:e}=await _();return t===200&&(n.value.zoingCity=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateZoingLandSelectOptions:async()=>{const{config:s,status:t,data:e}=await B();return t===200&&(n.value.zoingLand=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateFloorSelectOptions:async()=>{const{config:s,status:t,data:e}=await K();return t===200&&(n.value.floor=e||[],r.value.floorFromToken=e[0].value,r.value.floorToToken=e[0].value),{config:s,status:t,data:e}},onApiGETRealEstateFaceSelectOptions:async()=>{const{config:s,status:t,data:e}=await $();return t===200&&(n.value.face=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateStructionSelectOptions:async()=>{const{config:s,status:t,data:e}=await N();return t===200&&(n.value.structure=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateBarrierFreeCheckOptions:async()=>{const{config:s,status:t,data:e}=await x();return t===200&&(n.value.barrierFree=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateManageTypeSelectOpstions:async()=>{const{config:s,status:t,data:e}=await I();return t===200&&(n.value.manageType=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateManageDutySelectOpstions:async()=>{const{config:s,status:t,data:e}=await H();return t===200&&(n.value.manageDuty=e||[]),{config:s,status:t,data:e}},onApiGETRealEstateManagePayPeriodSelectOpstions:async()=>{const{config:s,status:t,data:e}=await z();return t===200&&(n.value.managePay=e||[]),{config:s,status:t,data:e}}},basic:{onPingUnitChange:()=>{const s=p.value,t=s.value==="pin",e=s.value==="sqMeters";s&&Object.keys(c.value).forEach(o=>{const l=`${o}Pin`,v=`${o}M`,y=c.value[o];y!==""&&!isNaN(Number(y))&&(c.value[o]=t?r.value[l]:e?r.value[v]:"")})},onPinSqMetersConvert:s=>{const t=c.value[s],e=p.value;if(!e||!t)return;const o=`${s}Pin`,l=`${s}M`,v=e.value==="pin",y=e.value==="sqMeters",f=g.options.unit.find(d=>d.value==="pin"),T=g.options.unit.find(d=>d.value==="sqMeters"),O=(d,w)=>String(Number(G(Number(d)*w.convert,w.toFixed)));!f||!T||(r.value[o]=v?t:O(t,f),r.value[l]=y?t:O(t,T))}}}};export{Q as u};
