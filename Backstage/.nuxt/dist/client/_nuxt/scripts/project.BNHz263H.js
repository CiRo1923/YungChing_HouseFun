import{a1 as h,ai as w,r as d}from"./entry.DC204dd0.js";const{public:O}=h(),S=O.NUXT_PUBLIC_APP_MODE==="dev",A=new Set(["post","put","patch"]),G=(e,s)=>{const i=Array.from(e.matchAll(/\{\s?(\w+)\s?\}/g)).map(c=>c[1]);let r=e;for(const c of i){const u=s?.[c];if(u==null||u==="")throw new Error(`[useFetchApi] missing path param: ${c}`);r=r.replaceAll(`{${c}}`,encodeURIComponent(String(u)))}return{url:r,usedKeys:new Set(i)}},R=e=>e?Object.fromEntries(e.entries()):{},f=e=>e!=null&&Object.prototype.toString.call(e)==="[object Object]",l=async(e,s,i)=>{const r=e.toLowerCase(),{url:c,usedKeys:u}=G(s,i),y={};for(const[n,o]of Object.entries(i??{}))!u.has(n)&&o!==void 0&&(y[n]=o);const p={method:r};Object.keys(y).length&&(A.has(r)?p.body=y:p.query=y);const g=c.startsWith("/")?c:`/${c}`,E=S?void 0:O.NUXT_PUBLIC_API_PATH,T=void 0;try{const n=await $fetch.raw(g,{...p,baseURL:E,headers:T}),o={method:r,baseURL:E??"",url:g,query:f(p.query)?p.query:void 0,body:f(p.body)?p.body:void 0};return{status:n.status,statusText:n.statusText,headers:R(n.headers),config:o,data:n._data}}catch(n){const o=n?.response?.status,a=n?.response?._data,t=new Error(n?.message||"Fetch error");throw t.statusCode=o,t.data=a,t}},b=async e=>await l("get","api/v1/buy/realEstatePurpose/check-options",e),C=async e=>await l("get","api/v1/buy/city/select-options",e),k=async e=>await l("get","api/v1/buy/{cityCode}/district/select-options",e),m=async e=>await l("get","api/v1/buy/realEstateType/select-options",e),P=async e=>await l("get","api/v1/buy/realEstateLegalUsage/select-options",e),Z=async e=>await l("get","api/v1/buy/realEstateZoing/check-options",e),L=async e=>await l("get","api/v1/buy/realEstateZoingCity/select-options",e),F=async e=>await l("get","api/v1/buy/realEstateZoingLand/select-options",e),U=async e=>await l("get","api/v1/buy/realEstateFloor/select-options",e),_=w("buyProject",()=>{const e="好房網買屋 Housefun 管理後台",s=d({casePurpose:null,city:null,area:null,caseType:null,caseUsage:null,caseZoing:null,zoingCity:null,zoingLand:null,floor:null}),i=d({casePurposeToken:"",caseTitle:"",cityID:"",districtID:"",road:"",lane:"",alley:"",addrNum:"",addrNumOf:"",floor:"",addrNumOfFloor:"",caseTypeToken:"",caseUsageToken:"",caseZoingToken:"",caseZoingTypeToken:"",caseZoingTypeOther:"",caseLandNo:"",isSingleFloor:!0,floorFromToken:"",caseFloorFrom:"",floorToToken:"",caseFloorTo:"",caseFloorTotal:""});return{NAME:e,options:s,apiData:i,onApiGETRealEstatePurposeCheckOptions:async()=>{const{config:o,status:a,data:t}=await b();return a===200&&(s.value.casePurpose=t||[]),{config:o,status:a,data:t}},onApiGETCitySelectOptions:async()=>{const{config:o,status:a,data:t}=await C();return a===200&&(s.value.city=t||[]),{config:o,status:a,data:t}},onApiGETDistrictSelectOptions:async o=>{const{config:a,status:t,data:v}=await k({cityCode:o});return{config:a,status:t,data:v}},onApiGETRealEstateTypeSelectOptions:async()=>{const{config:o,status:a,data:t}=await m();return a===200&&(s.value.caseType=t||[]),{config:o,status:a,data:t}},onApiGETRealEstateLegalUsageSelectOptions:async()=>{const{config:o,status:a,data:t}=await P();return a===200&&(s.value.caseUsage=t||[]),{config:o,status:a,data:t}},onApiGETRealEstateZoingCheckOptions:async()=>{const{config:o,status:a,data:t}=await Z();return a===200&&(s.value.caseZoing=t||[],i.value.caseZoingToken=t[0].code),{config:o,status:a,data:t}},onApiGETRealEstateZoingCitySelectOptions:async()=>{const{config:o,status:a,data:t}=await L();return a===200&&(s.value.zoingCity=t||[]),{config:o,status:a,data:t}},onApiGETRealEstateZoingLandSelectOptions:async()=>{const{config:o,status:a,data:t}=await F();return a===200&&(s.value.zoingLand=t||[]),{config:o,status:a,data:t}},onApiGETRealEstateFloorSelectOptions:async()=>{const{config:o,status:a,data:t}=await U();return a===200&&(s.value.floor=t||[],i.value.floorFromToken=t[0].value,i.value.floorToToken=t[0].value),{config:o,status:a,data:t}}}});export{_ as u};
