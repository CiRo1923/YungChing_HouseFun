import{_ as U}from"./mContainer.M6akq03D.js";import"./CardFilter.BIZzyuQc.js";import{e as q,f as v,g as W,h as Z,i as J,j as Q,k as B,l as X,m as j,n as Y,p as k,r as K,s as R,q as ee,v as te,x as M,y as ae,z as re,A as V,o as w,c as A,B as oe,C as ne,D as se,E as N,w as O,b as E,a as P,F as ie,G as le,H as ce,I as ue}from"./entry.BKKcR4L7.js";import{_ as F}from"./mAnchor.BSeabeOj.js";import fe from"./BackStep.CyycVjQb.js";import me from"./TabCheck.QbKx3348.js";import de from"./CardFilterInfo.DjJMIU4z.js";import pe from"./CardFilterPrice.CMxiMyL1.js";import _e from"./CardFilterPing.BH7fglHt.js";import ye from"./CardFilterManage.BzvDoOlA.js";import ge from"./CardFilterPosterInfo.dtSyXco6.js";import he from"./CardFilterTerms.C2kB3IyP.js";import{a as De}from"./_prototype.6FgksIwr.js";import{u as be}from"./project.DjxAtExN.js";import{u as ve}from"./useStores.DsEWfQ1i.js";import{F as Ee}from"./mForm.css.DDVQRDHv.js";import"./Label.CiG05Ju_.js";import"./BackStep.Dfn0S3RO.js";import"./TabCheckURL.ubVtkTb5.js";import"./Input.CIvvOtSQ.js";import"./_validation.4s3DImk1.js";import"./TabItem.DsESHqj_.js";import"./Main.CWLhjrE_.js";import"./TabCheckAddress.CoTsGeRt.js";import"./mAddress.ygQ9xDge.js";import"./Select.CEBHKyyN.js";import"./TabCheckID.DKgst1pG.js";import"./CasePurpose.B-Vfy_4l.js";import"./RadiosOval.IHeNTVqR.js";import"./CaseTitle.Co1bZQj7.js";import"./Address.CaFB21eE.js";import"./CaseType.DDptdiAs.js";import"./CaseUsage.CiuB7TV5.js";import"./Zoing.Dmc7WYmz.js";import"./RadiosOval.-moczuR_.js";import"./CaseLandNo.plErUSn3.js";import"./Floor.BALi2P9K.js";import"./TotalFloor.BVD4CV1g.js";import"./BuildingAge.BWdZDa0k.js";import"./CheckBox.CmP_OlU4.js";import"./Community.yQG3O1dA.js";import"./HouseLayout.aIfHrI78.js";import"./HouseAddLayout.CS2dT95x.js";import"./Elevator.DDKKHb9a.js";import"./Face.PpAKc2hB.js";import"./Structure.Cu3mhEiV.js";import"./BarrierFree.BL1ausoE.js";import"./CasePrice.Dnj4aKro.js";import"./CaseParkingPrice.BxD0x5oc.js";import"./CasePriceUnit.B1bbW8cR.js";import"./Unit.C7DZoWnf.js";import"./basic.ClQ1XBO8.js";import"./CaseBuildSq.Dg0WZ7TX.js";import"./CaseParkingSq.DITVk-ke.js";import"./CaseMainSq.IqpBFoFr.js";import"./CaseAffiliatedSq.Bsz1-Zyf.js";import"./CaseLandSq.BOmonw_3.js";import"./CaseAmenitieSq.9u94Mu9X.js";import"./CaseManageType.D0N3f0rC.js";import"./CaseManageDuty.BLYXslVH.js";import"./CaseManagePay.CvBBXV23.js";import"./InfoImport.DZgZ5i5e.js";import"./AgentName.CiyV7EVv.js";import"./AgentPhone.C_jc69Wy.js";import"./AgentLine.CcQATP-A.js";import"./Terms.2pw9yMv_.js";import"./Agree.BBMVm3Jm.js";const Ce={trailing:!0};function Pe(e,a=25,i={}){if(i={...Ce,...i},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let s,t,g=[],o,r;const p=(c,d)=>(o=we(e,c,d),o.finally(()=>{if(o=null,i.trailing&&r&&!t){const b=p(c,r);return r=null,b}}),o),h=function(...c){return i.trailing&&(r=c),o||new Promise(d=>{const b=!t&&i.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const l=i.leading?s:p(this,c);r=null;for(const m of g)m(l);g=[]},a),b?(s=p(this,c),d(s)):g.push(d)})},n=c=>{c&&(clearTimeout(c),t=null)};return h.isPending=()=>!!t,h.cancel=()=>{n(t),g=[],r=null},h.flush=()=>{if(n(t),!r||o)return;const c=r;return r=null,p(this,c)},h}async function we(e,a,i){return await e.apply(a,i)}const Se=e=>e==="defer"||e===!1;function y(...e){const a=typeof e[e.length-1]=="string"?e.pop():void 0;xe(e[0],e[1])&&e.unshift(a);let[i,s,t={}]=e,g=!1;const o=j(()=>re(i));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=q();t.server??=!0,t.default??=Te,t.getCachedData??=H,t.lazy??=!1,t.immediate??=!0,t.deep??=v.deep,t.dedupe??="cancel",t._functionName,r._asyncData[o.value];function p(){const l={cause:"initial",dedupe:t.dedupe};return r._asyncData[o.value]?._init||(l.cachedData=t.getCachedData(o.value,r,{cause:"initial"}),r._asyncData[o.value]=L(r,o.value,s,t,l.cachedData)),()=>r._asyncData[o.value].execute(l)}const h=p(),n=r._asyncData[o.value];n._deps++;const c=t.server!==!1&&r.payload.serverRendered;{let l=function(f){const u=r._asyncData[f];u?._deps&&(u._deps--,u._deps===0&&u?._off())};const m=Y();if(m&&c&&t.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const f=m._nuxtOnBeforeMountCbs;W(()=>{f.forEach(u=>{u()}),f.splice(0,f.length)}),Z(()=>f.splice(0,f.length))}const S=m&&(m._nuxtClientOnly||J(Q,!1));c&&r.isHydrating&&(n.error.value||n.data.value!=null)?(n.pending.value=!1,n.status.value=n.error.value?"error":"success"):m&&(!S&&r.payload.serverRendered&&r.isHydrating||t.lazy)&&t.immediate?m._nuxtOnBeforeMountCbs.push(h):t.immediate&&h();const _=k(),D=B(o,(f,u)=>{if((f||u)&&f!==u){g=!0;const G=r._asyncData[u]?.data.value!==v.value,I=r._asyncDataPromises[u]!==void 0,$={cause:"initial",dedupe:t.dedupe};if(!r._asyncData[f]?._init){let x;u&&G?x=r._asyncData[u].data.value:(x=t.getCachedData(f,r,{cause:"initial"}),$.cachedData=x),r._asyncData[f]=L(r,f,s,t,x)}r._asyncData[f]._deps++,u&&l(u),(t.immediate||G||I)&&r._asyncData[f].execute($),V(()=>{g=!1})}},{flush:"sync"}),C=t.watch?B(t.watch,()=>{g||(r._asyncData[o.value]?._execute.isPending()&&V(()=>{r._asyncData[o.value]?._execute.flush()}),r._asyncData[o.value]?._execute({cause:"watch",dedupe:t.dedupe}))}):()=>{};_&&X(()=>{D(),C(),l(o.value)})}const d={data:T(()=>r._asyncData[o.value]?.data),pending:T(()=>r._asyncData[o.value]?.pending),status:T(()=>r._asyncData[o.value]?.status),error:T(()=>r._asyncData[o.value]?.error),refresh:(...l)=>r._asyncData[o.value]?._init?r._asyncData[o.value].execute(...l):p()(),execute:(...l)=>d.refresh(...l),clear:()=>{const l=r._asyncData[o.value];if(l?._abortController)try{l._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{l._abortController=void 0}z(r,o.value)}},b=Promise.resolve(r._asyncDataPromises[o.value]).then(()=>d);return Object.assign(b,d),b}function T(e){return j({get(){return e()?.value},set(a){const i=e();i&&(i.value=a)}})}function xe(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function z(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=v.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=v.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]=void 0)}function Oe(e,a){const i={};for(const s of a)i[s]=e[s];return i}function L(e,a,i,s,t){e.payload._errors[a]??=v.errorValue;const g=s.getCachedData!==H,o=i,r=s.deep?K:R,p=t!=null,h=e.hook("app:data:refresh",async c=>{(!c||c.includes(a))&&await n.execute({cause:"refresh:hook"})}),n={data:r(p?t:s.default()),pending:R(!p),error:ae(e.payload._errors,a),status:R("idle"),execute:(...c)=>{const[d,b=void 0]=c,l=d&&b===void 0&&typeof d=="object"?d:{};if(e._asyncDataPromises[a]&&Se(l.dedupe??s.dedupe))return e._asyncDataPromises[a];if(l.cause==="initial"||e.isHydrating){const _="cachedData"in l?l.cachedData:s.getCachedData(a,e,{cause:l.cause??"refresh:manual"});if(_!=null)return e.payload.data[a]=n.data.value=_,n.error.value=v.errorValue,n.status.value="success",Promise.resolve(_)}n.pending.value=!0,n._abortController&&n._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),n._abortController=new AbortController,n.status.value="pending";const m=new AbortController,S=new Promise((_,D)=>{try{const C=l.timeout??s.timeout,f=Re([n._abortController?.signal,l?.signal],m.signal,C);if(f.aborted){const u=f.reason;D(u instanceof Error?u:new DOMException(String(u??"Aborted"),"AbortError"));return}return f.addEventListener("abort",()=>{const u=f.reason;D(u instanceof Error?u:new DOMException(String(u??"Aborted"),"AbortError"))},{once:!0,signal:m.signal}),Promise.resolve(o(e,{signal:f})).then(_,D)}catch(C){D(C)}}).then(async _=>{let D=_;s.transform&&(D=await s.transform(_)),s.pick&&(D=Oe(D,s.pick)),e.payload.data[a]=D,n.data.value=D,n.error.value=v.errorValue,n.status.value="success"}).catch(_=>{if(e._asyncDataPromises[a]&&e._asyncDataPromises[a]!==S||n._abortController?.signal.aborted)return e._asyncDataPromises[a];if(typeof DOMException<"u"&&_ instanceof DOMException&&_.name==="AbortError")return n.status.value="idle",e._asyncDataPromises[a];n.error.value=te(_),n.data.value=M(s.default()),n.status.value="error"}).finally(()=>{n.pending.value=!1,m.abort(),delete e._asyncDataPromises[a]});return e._asyncDataPromises[a]=S,e._asyncDataPromises[a]},_execute:Pe((...c)=>n.execute(...c),0,{leading:!0}),_default:s.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{h(),e._asyncData[a]?._init&&(e._asyncData[a]._init=!1),g||ee(()=>{e._asyncData[a]?._init||(z(e,a),n.execute=()=>Promise.resolve(),n.data.value=v.value)})}};return n}const Te=()=>v.value,H=(e,a,i)=>{if(a.isHydrating)return a.payload.data[e];if(i.cause!=="refresh:manual"&&i.cause!=="refresh:hook")return a.static.data[e]};function Re(e,a,i){const s=e.filter(o=>!!o);if(typeof i=="number"&&i>=0){const o=AbortSignal.timeout?.(i);o&&s.push(o)}if(AbortSignal.any)return AbortSignal.any(s);const t=new AbortController;for(const o of s)if(o.aborted){const r=o.reason??new DOMException("Aborted","AbortError");try{t.abort(r)}catch{t.abort()}return t.signal}const g=()=>{const r=s.find(p=>p.aborted)?.reason??new DOMException("Aborted","AbortError");try{t.abort(r)}catch{t.abort()}};for(const o of s)o.addEventListener?.("abort",g,{once:!0,signal:a});return t.signal}const Fe={class:"m-card --default --bg-white --rounded-15 tm:px-[16px] tm:py-[32px] p:p-[40px]"},Me={__name:"Default",props:{title:{type:String,default:null}},setup(e){return(a,i)=>(w(),A("div",Fe,[oe(a.$slots,"default")]))}},Ae={class:"tm:space-y-[24px] p:space-y-[32px]"},Ge={class:"inline-flex m:flex-col-reverse m:gap-y-[24px] pt:items-center pt:gap-x-[24px]"},Jt={__name:"basic",async setup(e){let a,i;const s=be(),{project:t}=ve(),{options:g,apiData:o}=ne(s),r=ue([{id:"cardFilterInfo",label:"基本資料",component:de},{id:"cardFilterPrice",label:"價格資訊",component:pe},{id:"cardFilterPing",label:"坪數資訊",component:_e},{id:"cardFilterManage",label:"管理資訊",component:ye},{id:"cardFilterPosterInfo",label:"聯絡資訊",component:ge},{id:"cardFilterTerms",label:"使用條款",component:he}]),p=async h=>{const{valid:n}=await h()};return[a,i]=se(()=>De([y("purpose-options",()=>t.onApiGETRealEstatePurposeCheckOptions()),y("city-options",()=>t.onApiGETCitySelectOptions()),y("type-options",()=>t.onApiGETRealEstateTypeSelectOptions()),y("usage-options",()=>t.onApiGETRealEstateLegalUsageSelectOptions()),y("zoing-options",()=>t.onApiGETRealEstateZoingCheckOptions()),y("zoingCity-options",()=>t.onApiGETRealEstateZoingCitySelectOptions()),y("zoingLand-options",()=>t.onApiGETRealEstateZoingLandSelectOptions()),y("floor-options",()=>t.onApiGETRealEstateFloorSelectOptions()),y("face-options",()=>t.onApiGETRealEstateFaceSelectOptions()),y("structure-options",()=>t.onApiGETRealEstateStructionSelectOptions()),y("barrierFree-options",()=>t.onApiGETRealEstateBarrierFreeCheckOptions()),y("manageType-options",()=>t.onApiGETRealEstateManageTypeSelectOpstions()),y("manageDuty-options",()=>t.onApiGETRealEstateManageDutySelectOpstions()),y("managePay-options",()=>t.onApiGETRealEstateManagePayPeriodSelectOpstions())])),await a,i(),(h,n)=>(w(),N(U,{setClass:{main:"--px-16"}},{tools:O(()=>[E(fe,{active:0})]),default:O(()=>[E(me),E(M(Ee),{as:"div",class:"tm:mt-[24px] tm:space-y-[24px] p:mt-[32px] p:space-y-[32px]"},{default:O(({validate:c})=>[P("ul",Ae,[(w(!0),A(ie,null,le(M(r),(d,b)=>(w(),A("li",{key:`${d.id}_${b}`},[(w(),N(ce(d.component),{title:d.label},null,8,["title"]))]))),128))]),E(Me,{class:"text-center"},{default:O(()=>[P("ul",Ge,[P("li",null,[E(F,{text:"取消",setClass:{main:" --border-gray-e5 --bg-white --oval --height-45 --px-30 --py-8 --text-gray-666 shrink-0",text:"font-semibold"}})]),P("li",null,[E(F,{text:"存成草稿",setClass:{main:" --border-gray-e5 --bg-white --oval --height-45 --px-30 --py-8 --text-gray-666 shrink-0",text:"font-semibold"}})]),P("li",null,[E(F,{text:"儲存，選擇刊登額度",setClass:{main:"  --bg-green-6a2d --oval --height-45 --px-30 --py-8 --text-white shrink-0",text:"font-semibold"},onClick:d=>p(c)},null,8,["onClick"])])])]),_:2},1024)]),_:1})]),_:1}))}};export{Jt as default};
