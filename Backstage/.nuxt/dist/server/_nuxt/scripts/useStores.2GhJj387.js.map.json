{"file":"useStores.2GhJj387.js","mappings":";;;;;;;;;;;AAKO,SAAS,gBAAgB,SAAS;AAIvC,cAAY,WAAA;AACZ,SAAO,QAAQ,YAAY;AAC7B;AACO,SAAS,kBAAkB,SAAS;AAIzC,QAAM,QAAQ,gBAAA;AACd,QAAM,WAAW,QAAQ,kBAAkB,KAAK,IAAI,CAAA;AACpD,MAAI,CAAC,WAAW,CAAC,OAAO;AACtB,WAAO;AAAA,EACT;AACA,QAAM,UAA0B,uBAAO,OAAO,IAAI;AAClD,aAAW,QAAQ,SAAS;AAC1B,UAAM,MAAM,KAAK,YAAA;AACjB,UAAM,SAAS,SAAS,GAAG;AAC3B,QAAI,QAAQ;AACV,cAAQ,GAAG,IAAI;AAAA,IACjB;AAAA,EACF;AACA,SAAO;AACT;AC9BA,MAAM,EAAE,QAAQ,IAAA,IAAQ,iBAAA;AACxB,MAAM,YAAY,IAAI,yBAAyB;AAC/C,MAAM,mBAAmB,oBAAI,IAAI,CAAC,QAAQ,OAAO,OAAO,CAAC;AAEzD,MAAM,sBAAsB,CAAC,MAAM,SAAS;AAC1C,QAAM,OAAO,MAAM,KAAK,KAAK,SAAS,kBAAkB,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;AAE1E,MAAI,MAAM;AACV,aAAW,OAAO,MAAM;AACtB,UAAM,MAAM,OAAO,GAAG;AACtB,QAAI,OAAO,QAAQ,QAAQ,IAAI;AAC7B,YAAM,IAAI,MAAM,qCAAqC,GAAG,EAAE;AAAA,IAC5D;AACA,UAAM,IAAI,WAAW,IAAI,GAAG,KAAK,mBAAmB,OAAO,GAAG,CAAC,CAAC;AAAA,EAClE;AACA,SAAO,EAAE,KAAK,UAAU,IAAI,IAAI,IAAI,EAAA;AACtC;AAEA,MAAM,gBAAgB,CAAC,YAAa,UAAU,OAAO,YAAY,QAAQ,QAAA,CAAS,IAAI,CAAA;AAEtF,MAAM,gBAAgB,CAAC,MAAM,KAAK,QAAQ,OAAO,UAAU,SAAS,KAAK,CAAC,MAAM;AAEzE,MAAM,WAAW,OAAO,QAAQ,MAAM,SAAS;AACpD,QAAM,IAAI,OAAO,YAAA;AACjB,QAAM,EAAE,KAAK,SAAS,aAAa,oBAAoB,MAAM,IAAI;AAEjE,QAAM,OAAO,CAAA;AACb,aAAW,CAAC,GAAG,CAAC,KAAK,OAAO,QAAQ,QAAQ,CAAA,CAAE,GAAG;AAC/C,QAAI,CAAC,SAAS,IAAI,CAAC,KAAK,MAAM,OAAW,MAAK,CAAC,IAAI;AAAA,EACrD;AAEA,QAAM,OAAO,EAAE,QAAQ,EAAA;AACvB,MAAI,OAAO,KAAK,IAAI,EAAE,QAAQ;AAC5B,QAAI,iBAAiB,IAAI,CAAC,QAAQ,OAAO;AAAA,cAC/B,QAAQ;AAAA,EACpB;AAEA,QAAM,UAAU,QAAQ,WAAW,GAAG,IAAI,UAAU,IAAI,OAAO;AAE/D,QAAM,UAAU,CAAC,YACb,IAAI,uBAEF,IAAI;AAGV,QAAM,UAA+B,kBAAkB,CAAC,QAAQ,CAAC;AAEjE,MAAI;AACF,UAAM,MAAM,MAAM,OAAO,IAAI,SAAS,EAAE,GAAG,MAAM,SAAS,SAAS;AAGnE,UAAM,aAAa;AAAA,MACjB,QAAQ;AAAA,MACR,SAAS,WAAW;AAAA,MACpB,KAAK;AAAA,MACL,OAAO,cAAc,KAAK,KAAK,IAAI,KAAK,QAAQ;AAAA,MAChD,MAAM,cAAc,KAAK,IAAI,IAAI,KAAK,OAAO;AAAA,IAAA;AAG/C,WAAO;AAAA,MACL,QAAQ,IAAI;AAAA,MACZ,YAAY,IAAI;AAAA,MAChB,SAAS,cAAc,IAAI,OAAO;AAAA,MAClC,QAAQ;AAAA,MACR,MAAM,IAAI;AAAA,IAAA;AAAA,EAEd,SAAS,OAAO;AAEd,UAAM,SAAS,OAAO,UAAU;AAChC,UAAM,UAAU,OAAO,UAAU;AAEjC,UAAM,IAAI,IAAI,MAAM,OAAO,WAAW,aAAa;AACnD,MAAE,aAAa;AACf,MAAE,OAAO;AACT,UAAM;AAAA,EACR;AACF;AAKO,MAAM,sCAAsC,OAAO,SACxD,MAAM,SAAS,OAAO,8CAA8C,IAAI;AAEnE,MAAM,0BAA0B,OAAO,SAC5C,MAAM,SAAS,OAAO,kCAAkC,IAAI;AAEvD,MAAM,8BAA8B,OAAO,SAChD,MAAM,SAAS,OAAO,iDAAiD,IAAI;AAEtE,MAAM,aAAa,OAAO,SAC/B,MAAM,SAAS,OAAO,6CAA6C,IAAI;AAElE,MAAM,oCAAoC,OAAO,SACtD,MAAM,SAAS,OAAO,4CAA4C,IAAI;AAEjE,MAAM,0CAA0C,OAAO,SAC5D,MAAM,SAAS,OAAO,kDAAkD,IAAI;AAEvE,MAAM,oCAAoC,OAAO,SACtD,MAAM,SAAS,OAAO,4CAA4C,IAAI;AAEjE,MAAM,yCAAyC,OAAO,SAC3D,MAAM,SAAS,OAAO,iDAAiD,IAAI;AAEtE,MAAM,yCAAyC,OAAO,SAC3D,MAAM,SAAS,OAAO,iDAAiD,IAAI;AAEtE,MAAM,qCAAqC,OAAO,SACvD,MAAM,SAAS,OAAO,6CAA6C,IAAI;AAKlE,MAAM,oCAAoC,OAAO,SACtD,MAAM,SAAS,OAAO,4CAA4C,IAAI;AAEjE,MAAM,yCAAyC,OAAO,SAC3D,MAAM,SAAS,OAAO,iDAAiD,IAAI;AAEtE,MAAM,0CAA0C,OAAO,SAC5D,MAAM,SAAS,OAAO,kDAAkD,IAAI;AAEvE,MAAM,2CAA2C,OAAO,SAC7D,MAAM,SAAS,OAAO,mDAAmD,IAAI;AAExE,MAAM,2CAA2C,OAAO,SAC7D,MAAM,SAAS,OAAO,mDAAmD,IAAI;AAExE,MAAM,gDAAgD,OAAO,SAClE,MAAM,SAAS,OAAO,wDAAwD,IAAI;AC1G/E,MAAC,YAAY,MAAM;AACtB,QAAM,gBAAgB,mBAAkB;AACxC,QAAM,cAAc,iBAAgB;AACpC,QAAM,EAAE,SAAS,SAAS,eAAc,IAAK,YAAY,aAAa;AACtE,QAAM,EAAE,UAAU,gBAAgB,YAAY,WAAW;AACzD,QAAM,UAAU;AAAA,IACd,uCAAuC,YAAY;AAGjD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,oCAAmC;AAE1E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,cAAc,QAAQ,CAAA;AAAA,MAC7C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,2BAA2B,YAAY;AACrC,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,wBAAuB;AAE9D,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,OAAO,QAAQ,CAAA;AAAA,MACtC;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,+BAA+B,OAAO,WAAW;AAC/C,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,4BAA4B;AAAA,QACjE,UAAU;AAAA,MAClB,CAAO;AAMD,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,cAAc,OAAO,QAAQ,WAAW;AACtC,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,WAAW;AAAA,QAChD,UAAU;AAAA,QACV,cAAc;AAAA,MACtB,CAAO;AAMD,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,qCAAqC,YAAY;AAC/C,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,kCAAiC;AAExE,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,WAAW,QAAQ,CAAA;AAAA,MAC1C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,2CAA2C,YAAY;AACrD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,wCAAuC;AAE9E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AAAA,MAC3C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,qCAAqC,YAAY;AAC/C,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,kCAAiC;AAExE,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AACzC,gBAAQ,MAAM,iBAAiB,KAAK,CAAC,EAAE;AAAA,MACzC;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,0CAA0C,YAAY;AACpD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,uCAAsC;AAE7E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AAAA,MAC3C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,0CAA0C,YAAY;AACpD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,uCAAsC;AAE7E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AAAA,MAC3C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,sCAAsC,YAAY;AAChD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,mCAAkC;AAEzE,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,QAAQ,QAAQ,CAAA;AACrC,gBAAQ,MAAM,iBAAiB,KAAK,CAAC,EAAE;AACvC,gBAAQ,MAAM,eAAe,KAAK,CAAC,EAAE;AAAA,MACvC;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,qCAAqC,YAAY;AAC/C,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,kCAAiC;AAExE,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,OAAO,QAAQ,CAAA;AAAA,MACtC;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,0CAA0C,YAAY;AACpD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,uCAAsC;AAE7E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AAAA,MAC3C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,2CAA2C,YAAY;AACrD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,wCAAuC;AAE9E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,cAAc,QAAQ,CAAA;AAAA,MAC7C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,4CAA4C,YAAY;AACtD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,yCAAwC;AAE/E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,aAAa,QAAQ,CAAA;AAAA,MAC5C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,4CAA4C,YAAY;AACtD,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,yCAAwC;AAE/E,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,aAAa,QAAQ,CAAA;AAAA,MAC5C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,IACA,iDAAiD,YAAY;AAC3D,YAAM,EAAE,QAAQ,QAAQ,KAAI,IAAK,MAAM,8CAA6C;AAEpF,UAAI,WAAW,KAAK;AAClB,uBAAe,MAAM,YAAY,QAAQ,CAAA;AAAA,MAC3C;AAEA,aAAO,EAAE,QAAQ,QAAQ,KAAI;AAAA,IAC/B;AAAA,EACJ;AACE,QAAM,QAAQ;AAAA,IACZ,kBAAkB,MAAM;AACtB,YAAM,OAAO,YAAY;AACzB,YAAM,QAAQ,KAAK,UAAU;AAC7B,YAAM,aAAa,KAAK,UAAU;AAElC,UAAI,CAAC,KAAM;AAEX,aAAO,KAAK,SAAS,KAAK,EAAE,QAAQ,CAAC,QAAQ;AAC3C,cAAM,SAAS,GAAG,GAAG;AACrB,cAAM,OAAO,GAAG,GAAG;AACnB,cAAM,MAAM,SAAS,MAAM,GAAG;AAE9B,YAAI,QAAQ,MAAM,CAAC,MAAM,OAAO,GAAG,CAAC,GAAG;AACrC,mBAAS,MAAM,GAAG,IAAI,QAClB,QAAQ,MAAM,MAAM,IACpB,aACE,QAAQ,MAAM,IAAI,IAClB;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IACA,sBAAsB,CAAC,QAAQ;AAC7B,YAAM,MAAM,SAAS,MAAM,GAAG;AAC9B,YAAM,OAAO,YAAY;AACzB,UAAI,CAAC,QAAQ,CAAC,IAAK;AAEnB,YAAM,SAAS,GAAG,GAAG;AACrB,YAAM,OAAO,GAAG,GAAG;AACnB,YAAM,QAAQ,KAAK,UAAU;AAC7B,YAAM,aAAa,KAAK,UAAU;AAClC,YAAM,UAAU,YAAY,QAAQ,KAAK,KAAK,CAAC,MAAM,EAAE,UAAU,KAAK;AACtE,YAAM,QAAQ,YAAY,QAAQ,KAAK,KAAK,CAAC,MAAM,EAAE,UAAU,UAAU;AACzE,YAAM,YAAY,CAAC,OAAO,SACxB,OAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,KAAK,SAAS,KAAK,OAAO,CAAC,CAAC;AAEpE,UAAI,CAAC,WAAW,CAAC,MAAO;AAExB,cAAQ,MAAM,MAAM,IAAI,QAAQ,MAAM,UAAU,KAAK,OAAO;AAC5D,cAAQ,MAAM,IAAI,IAAI,aAAa,MAAM,UAAU,KAAK,KAAK;AAAA,IAI/D;AAAA,EACJ;AAEE,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACJ;AACA;","names":[],"sources":["../../../../../node_modules/nuxt/dist/app/composables/ssr.js","../../../../../scripts/buy/_api/index.js","../../../../../stores/buy/_composables/useStores.js"],"sourcesContent":["import { setResponseStatus as _setResponseStatus, appendHeader, getRequestHeader, getRequestHeaders, getResponseHeader, removeResponseHeader, setResponseHeader } from \"h3\";\nimport { computed, getCurrentInstance, ref } from \"vue\";\nimport { useNuxtApp } from \"../nuxt.js\";\nimport { toArray } from \"../utils.js\";\nimport { useHead } from \"./head.js\";\nexport function useRequestEvent(nuxtApp) {\n  if (import.meta.client) {\n    return;\n  }\n  nuxtApp ||= useNuxtApp();\n  return nuxtApp.ssrContext?.event;\n}\nexport function useRequestHeaders(include) {\n  if (import.meta.client) {\n    return {};\n  }\n  const event = useRequestEvent();\n  const _headers = event ? getRequestHeaders(event) : {};\n  if (!include || !event) {\n    return _headers;\n  }\n  const headers = /* @__PURE__ */ Object.create(null);\n  for (const _key of include) {\n    const key = _key.toLowerCase();\n    const header = _headers[key];\n    if (header) {\n      headers[key] = header;\n    }\n  }\n  return headers;\n}\nexport function useRequestHeader(header) {\n  if (import.meta.client) {\n    return void 0;\n  }\n  const event = useRequestEvent();\n  return event ? getRequestHeader(event, header) : void 0;\n}\nexport function useRequestFetch() {\n  if (import.meta.client) {\n    return globalThis.$fetch;\n  }\n  return useRequestEvent()?.$fetch || globalThis.$fetch;\n}\nexport function setResponseStatus(arg1, arg2, arg3) {\n  if (import.meta.client) {\n    return;\n  }\n  if (arg1 && typeof arg1 !== \"number\") {\n    return _setResponseStatus(arg1, arg2, arg3);\n  }\n  const event = useRequestEvent();\n  if (event) {\n    return _setResponseStatus(event, arg1, arg2);\n  }\n}\nexport function useResponseHeader(header) {\n  if (import.meta.client) {\n    if (import.meta.dev) {\n      return computed({\n        get: () => void 0,\n        set: () => console.warn(\"[nuxt] Setting response headers is not supported in the browser.\")\n      });\n    }\n    return ref();\n  }\n  const event = useRequestEvent();\n  return computed({\n    get() {\n      return getResponseHeader(event, header);\n    },\n    set(newValue) {\n      if (!newValue) {\n        return removeResponseHeader(event, header);\n      }\n      return setResponseHeader(event, header, newValue);\n    }\n  });\n}\nexport function prerenderRoutes(path) {\n  if (!import.meta.server || !import.meta.prerender) {\n    return;\n  }\n  const paths = toArray(path);\n  appendHeader(useRequestEvent(), \"x-nitro-prerender\", paths.map((p) => encodeURIComponent(p)).join(\", \"));\n}\nconst PREHYDRATE_ATTR_KEY = \"data-prehydrate-id\";\nexport function onPrehydrate(callback, key) {\n  if (import.meta.client) {\n    return;\n  }\n  if (typeof callback !== \"string\") {\n    throw new TypeError(\"[nuxt] To transform a callback into a string, `onPrehydrate` must be processed by the Nuxt build pipeline. If it is called in a third-party library, make sure to add the library to `build.transpile`.\");\n  }\n  const vm = getCurrentInstance();\n  if (vm && key) {\n    vm.attrs[PREHYDRATE_ATTR_KEY] ||= \"\";\n    key = \":\" + key + \":\";\n    if (!vm.attrs[PREHYDRATE_ATTR_KEY].includes(key)) {\n      vm.attrs[PREHYDRATE_ATTR_KEY] += key;\n    }\n  }\n  const code = vm && key ? `document.querySelectorAll('[${PREHYDRATE_ATTR_KEY}*=${JSON.stringify(key)}]').forEach` + callback : callback + \"()\";\n  useHead({\n    script: [{\n      key: vm && key ? key : void 0,\n      tagPosition: \"bodyClose\",\n      tagPriority: \"critical\",\n      innerHTML: code\n    }]\n  });\n  return vm && key ? vm.attrs[PREHYDRATE_ATTR_KEY] : void 0;\n}\n","const { public: env } = useRuntimeConfig()\r\nconst isDevMode = env.NUXT_PUBLIC_APP_MODE === 'dev'\r\nconst METHOD_WITH_BODY = new Set(['post', 'put', 'patch'])\r\n\r\nconst onReplacePathParams = (path, data) => {\r\n  const keys = Array.from(path.matchAll(/\\{\\s?(\\w+)\\s?\\}/g)).map((m) => m[1])\r\n\r\n  let url = path\r\n  for (const key of keys) {\r\n    const val = data?.[key]\r\n    if (val == null || val === '') {\r\n      throw new Error(`[useFetchApi] missing path param: ${key}`)\r\n    }\r\n    url = url.replaceAll(`{${key}}`, encodeURIComponent(String(val)))\r\n  }\r\n  return { url, usedKeys: new Set(keys) }\r\n}\r\n\r\nconst toPOJOHeaders = (headers) => (headers ? Object.fromEntries(headers.entries()) : {})\r\n\r\nconst isPlainObject = (v) => v != null && Object.prototype.toString.call(v) === '[object Object]'\r\n\r\nexport const fetchApi = async (method, path, data) => {\r\n  const m = method.toLowerCase()\r\n  const { url: urlPath, usedKeys } = onReplacePathParams(path, data)\r\n\r\n  const rest = {}\r\n  for (const [k, v] of Object.entries(data ?? {})) {\r\n    if (!usedKeys.has(k) && v !== undefined) rest[k] = v\r\n  }\r\n\r\n  const opts = { method: m }\r\n  if (Object.keys(rest).length) {\r\n    if (METHOD_WITH_BODY.has(m)) opts.body = rest\r\n    else opts.query = rest\r\n  }\r\n\r\n  const reqPath = urlPath.startsWith('/') ? urlPath : `/${urlPath}`\r\n\r\n  const baseURL = !isDevMode\r\n    ? env.NUXT_PUBLIC_API_PATH\r\n    : import.meta.server\r\n      ? env.NUXT_PUBLIC_API_PATH\r\n      : undefined\r\n\r\n  const headers = import.meta.server ? useRequestHeaders(['cookie']) : undefined\r\n\r\n  try {\r\n    const res = await $fetch.raw(reqPath, { ...opts, baseURL, headers })\r\n\r\n    // 只回傳可序列化的 config（避免 FormData/URLSearchParams）\r\n    const safeConfig = {\r\n      method: m,\r\n      baseURL: baseURL ?? '',\r\n      url: reqPath,\r\n      query: isPlainObject(opts.query) ? opts.query : undefined,\r\n      body: isPlainObject(opts.body) ? opts.body : undefined,\r\n    }\r\n\r\n    return {\r\n      status: res.status,\r\n      statusText: res.statusText,\r\n      headers: toPOJOHeaders(res.headers),\r\n      config: safeConfig,\r\n      data: res._data,\r\n    }\r\n  } catch (error) {\r\n    // 不要把原始 error 直接 throw（裡面常含 non-POJO）\r\n    const status = error?.response?.status\r\n    const payload = error?.response?._data\r\n\r\n    const e = new Error(error?.message || 'Fetch error')\r\n    e.statusCode = status\r\n    e.data = payload\r\n    throw e\r\n  }\r\n}\r\n\r\nexport const apiGETRealEstate = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstate/{hfid}', data)\r\n\r\nexport const apiGETRealEstatePurposeCheckOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstatePurpose/check-options', data)\r\n\r\nexport const apiGETCitySelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/city/select-options', data)\r\n\r\nexport const apiGETDistrictSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/{cityCode}/district/select-options', data)\r\n\r\nexport const apiGETRoad = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/{cityCode}/{districtCode}/Road', data)\r\n\r\nexport const apiGETRealEstateTypeSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateType/select-options', data)\r\n\r\nexport const apiGETRealEstateLegalUsageSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateLegalUsage/select-options', data)\r\n\r\nexport const apiGETRealEstateZoingCheckOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateZoing/check-options', data)\r\n\r\nexport const apiGETRealEstateZoingCitySelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateZoingCity/select-options', data)\r\n\r\nexport const apiGETRealEstateZoingLandSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateZoingLand/select-options', data)\r\n\r\nexport const apiGETRealEstateFloorSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateFloor/select-options', data)\r\n\r\nexport const apiGETCommunities = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/communities', data)\r\n\r\nexport const apiGETRealEstateFaceSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateFace/select-options', data)\r\n\r\nexport const apiGETRealEstateStructionSelectOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateStruction/select-options', data)\r\n\r\nexport const apiGETRealEstateBarrierFreeCheckOptions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateBarrierfree/check-options', data)\r\n\r\nexport const apiGETRealEstateManageTypeSelectOpstions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateManageType/select-opstions', data)\r\n\r\nexport const apiGETRealEstateManageDutySelectOpstions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateManageDuty/select-opstions', data)\r\n\r\nexport const apiGETRealEstateManagePayPeriodSelectOpstions = async (data) =>\r\n  await fetchApi('get', 'api/v1/buy/realEstateManagePayPeriod/select-opstions', data)\r\n","import {\r\n  apiGETRealEstatePurposeCheckOptions,\r\n  apiGETCitySelectOptions,\r\n  apiGETDistrictSelectOptions,\r\n  apiGETRoad,\r\n  apiGETRealEstateTypeSelectOptions,\r\n  apiGETRealEstateLegalUsageSelectOptions,\r\n  apiGETRealEstateZoingCheckOptions,\r\n  apiGETRealEstateZoingCitySelectOptions,\r\n  apiGETRealEstateZoingLandSelectOptions,\r\n  apiGETRealEstateFloorSelectOptions,\r\n  apiGETRealEstateFaceSelectOptions,\r\n  apiGETRealEstateStructionSelectOptions,\r\n  apiGETRealEstateBarrierFreeCheckOptions,\r\n  apiGETRealEstateManageTypeSelectOpstions,\r\n  apiGETRealEstateManageDutySelectOpstions,\r\n  apiGETRealEstateManagePayPeriodSelectOpstions,\r\n} from '@js/buy/_api/index.js'\r\n\r\nimport { toFixed } from '@js/_prototype.js'\r\n\r\nimport { useBuyBasicStore } from '@stores/buy/basic.js'\r\nimport { useBuyProjectStore } from '@stores/buy/project.js'\r\n\r\nconst useStores = () => {\r\n  const projectStores = useBuyProjectStore()\r\n  const basicStores = useBuyBasicStore()\r\n  const { apiData, options: projectOptions } = storeToRefs(projectStores)\r\n  const { pingData, currentUnit } = storeToRefs(basicStores)\r\n  const project = {\r\n    onApiGETRealEstatePurposeCheckOptions: async () => {\r\n      // const { public: env } = useRuntimeConfig()\r\n      // const hfID = env.NUXT_PUBLIC_HFID_DEFAULT\r\n      const { config, status, data } = await apiGETRealEstatePurposeCheckOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.casePurpose = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETCitySelectOptions: async () => {\r\n      const { config, status, data } = await apiGETCitySelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.city = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETDistrictSelectOptions: async (cityID) => {\r\n      const { config, status, data } = await apiGETDistrictSelectOptions({\r\n        cityCode: cityID,\r\n      })\r\n\r\n      // if (status === 200) {\r\n      //   console.log(data)\r\n      // }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRoad: async (cityID, AreaID) => {\r\n      const { config, status, data } = await apiGETRoad({\r\n        cityCode: cityID,\r\n        districtCode: AreaID,\r\n      })\r\n\r\n      // if (status === 200) {\r\n      //   console.log(data)\r\n      // }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateTypeSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateTypeSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.caseType = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateLegalUsageSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateLegalUsageSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.caseUsage = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateZoingCheckOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateZoingCheckOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.caseZoing = data || []\r\n        apiData.value.caseZoingToken = data[0].code\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateZoingCitySelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateZoingCitySelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.zoingCity = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateZoingLandSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateZoingLandSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.zoingLand = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateFloorSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateFloorSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.floor = data || []\r\n        apiData.value.floorFromToken = data[0].value\r\n        apiData.value.floorToToken = data[0].value\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateFaceSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateFaceSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.face = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateStructionSelectOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateStructionSelectOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.structure = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateBarrierFreeCheckOptions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateBarrierFreeCheckOptions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.barrierFree = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateManageTypeSelectOpstions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateManageTypeSelectOpstions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.manageType = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateManageDutySelectOpstions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateManageDutySelectOpstions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.manageDuty = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n    onApiGETRealEstateManagePayPeriodSelectOpstions: async () => {\r\n      const { config, status, data } = await apiGETRealEstateManagePayPeriodSelectOpstions()\r\n\r\n      if (status === 200) {\r\n        projectOptions.value.managePay = data || []\r\n      }\r\n\r\n      return { config, status, data }\r\n    },\r\n  }\r\n  const basic = {\r\n    onPingUnitChange: () => {\r\n      const unit = currentUnit.value\r\n      const isPin = unit.value === 'pin'\r\n      const isSqMeters = unit.value === 'sqMeters'\r\n\r\n      if (!unit) return\r\n\r\n      Object.keys(pingData.value).forEach((key) => {\r\n        const pinKey = `${key}Pin`\r\n        const mKey = `${key}M`\r\n        const val = pingData.value[key]\r\n\r\n        if (val !== '' && !isNaN(Number(val))) {\r\n          pingData.value[key] = isPin\r\n            ? apiData.value[pinKey]\r\n            : isSqMeters\r\n              ? apiData.value[mKey]\r\n              : ''\r\n        }\r\n      })\r\n    },\r\n    onPinSqMetersConvert: (key) => {\r\n      const val = pingData.value[key]\r\n      const unit = currentUnit.value\r\n      if (!unit || !val) return\r\n\r\n      const pinKey = `${key}Pin`\r\n      const mKey = `${key}M`\r\n      const isPin = unit.value === 'pin'\r\n      const isSqMeters = unit.value === 'sqMeters'\r\n      const pinConf = basicStores.options.unit.find((u) => u.value === 'pin')\r\n      const mConf = basicStores.options.unit.find((u) => u.value === 'sqMeters')\r\n      const onConvert = (value, conf) =>\r\n        String(Number(toFixed(Number(value) * conf.convert, conf.toFixed)))\r\n\r\n      if (!pinConf || !mConf) return\r\n\r\n      apiData.value[pinKey] = isPin ? val : onConvert(val, pinConf)\r\n      apiData.value[mKey] = isSqMeters ? val : onConvert(val, mConf)\r\n\r\n      console.log(apiData.value[pinKey])\r\n      console.log(apiData.value[mKey])\r\n    },\r\n  }\r\n\r\n  return {\r\n    project,\r\n    basic,\r\n  }\r\n}\r\n\r\nexport default useStores\r\n"],"version":3}