{"file":"buy.lIf-7Bnj.js","mappings":"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","names":["__vite_glob_0_2","_unref","_mergeProps","_push","_parent","_ssrRenderAttr","_ssrRenderClass","_createBlock","_createVNode","_ssrRenderAttrs","_ssrInterpolate"],"sources":["../../../../../assets/imgs/buy/logo_icon.svg","../../../../../assets/imgs/buy/logo_text.svg","../../../../../assets/imgs/common/blank.svg","../../../../../assets/imgs/components/buy/m-step/arrow.svg","../../../../../scripts/_crypto.js","../../../../../components/common/ImgSrc.vue","../../../../../components/buy/mHeader.vue","../../../../../layouts/buy.vue"],"sourcesContent":["export default \"__VITE_ASSET__CNsPERCV__\"","export default \"__VITE_ASSET__TabvTnX7__\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%201%201'%20style='enable-background:new%200%200%201%201;'%20xml:space='preserve'%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='_圖層_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%2016%2016'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.4.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20152)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23e5e5e5;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M4.59,2.83c-.16-.16-.25-.37-.25-.6s.09-.44.25-.6.37-.25.6-.25.44.09.6.25l5.62,5.63c.08.08.14.17.18.27s.06.21.06.32-.02.22-.06.32c-.04.1-.11.2-.18.27l-5.62,5.63c-.16.16-.37.25-.6.25s-.44-.09-.6-.25-.25-.37-.25-.6.09-.44.25-.6l5.03-5.03L4.59,2.83Z'/%3e%3c/svg%3e\"","import CryptoJS from 'crypto-js'\r\n\r\nexport const KEY = CryptoJS.enc.Utf8.parse('HOUSEFUN_BUY_NEWHOUSE_RENT_PRICE')\r\nexport const IV = CryptoJS.enc.Utf8.parse('housefun_to_nuxt')\r\nconst enString = (string) => {\r\n  return `'${string}'`\r\n}\r\nconst deString = (string) => {\r\n  return string.replace(/^'|'$/g, '')\r\n}\r\nexport const enCrypto = (string) => {\r\n  const content =\r\n    typeof string !== 'string'\r\n      ? typeof string === 'number' || typeof string === 'boolean'\r\n        ? string\r\n        : JSON.stringify(string)\r\n      : enString(string)\r\n  const srcs = CryptoJS.enc.Utf8.parse(content)\r\n  const encrypted = CryptoJS.AES.encrypt(srcs, KEY, {\r\n    iv: IV,\r\n    mode: CryptoJS.mode.CBC,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n  })\r\n  return encrypted.toString()\r\n}\r\n\r\nexport const deCrypto = (string) => {\r\n  if (string) {\r\n    const decrypt = CryptoJS.AES.decrypt(string, KEY, {\r\n      iv: IV,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7,\r\n    })\r\n    const decryptedStr = decrypt.toString(CryptoJS.enc.Utf8)\r\n    const decryptContent = decryptedStr.toString()\r\n\r\n    return /^({|\\[).*(}|\\])$/.test(decryptContent)\r\n      ? JSON.parse(decryptContent)\r\n      : /^\\d+$/.test(decryptContent)\r\n        ? Number(decryptContent)\r\n        : /^'.*'$/.test(decryptContent)\r\n          ? deString(decryptContent)\r\n          : decryptContent === 'true'\r\n  } else {\r\n    return ''\r\n  }\r\n}\r\n\r\nexport const sha256Crypto = (string) => {\r\n  return CryptoJS.SHA256(string).toString(CryptoJS.enc.Hex)\r\n}\r\n\r\nexport const hashHex = (string, length) => {\r\n  return enCrypto(string).toLocaleLowerCase().split('').reverse().join('').slice(0, length)\r\n}\r\n","<script setup>\r\nimport SvgIcon from '@components/common/SvgIcon.vue'\r\n\r\nimport { hashHex } from '@js/_crypto.js'\r\n\r\nimport blankUrl from '@imgs/common/blank.svg'\r\n\r\n// 用字面字串，固定抓 assets/imgs\r\nconst MAP = import.meta.glob('/assets/imgs/**/*', { eager: true, import: 'default' })\r\n\r\n// 將相對檔名轉成 glob key\r\nconst toKey = (p) => `/assets/imgs/${String(p).replace(/^\\/+/, '')}`\r\n\r\n// 依照你的需求：回傳 URL + ?[hash]（用 VITE_APP_HASH）\r\nconst bust = (url) => `${url}?${hashHex(import.meta.env.VITE_APP_HASH, 8)}`\r\n\r\nconst resolveBundledImg = (raw) => {\r\n  if (!raw) return null\r\n\r\n  // 外部/特殊\r\n  if (/^(https?:|data:|blob:)/.test(raw)) {\r\n    if (/^http/.test(raw)) {\r\n      const imgName = /\\/([^/?#]+)(?:\\?|$)/.exec(raw)[0]\r\n      const hasQuery = /\\?/.test(raw)\r\n      return `${encodeURI(raw)}${hasQuery ? '&' : '?'}${hashHex(imgName, 8)}`\r\n    }\r\n    return encodeURI(raw)\r\n  }\r\n\r\n  // 本地：用 glob 對映\r\n  const hit = MAP[toKey(raw)]\r\n  if (hit) return bust(hit)\r\n\r\n  console.warn('[ImgSrc] not found:', toKey(raw))\r\n  return blankUrl // 找不到就用佔位圖\r\n}\r\n\r\n// ---- props & 狀態 ----\r\nconst props = defineProps({\r\n  src: {\r\n    type: [String, Object],\r\n    default: null,\r\n    required: true,\r\n  },\r\n  alt: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  config: {\r\n    type: Object,\r\n    default: () => ({}),\r\n  },\r\n  setClass: {\r\n    type: Object,\r\n    default: () => ({}),\r\n  },\r\n})\r\n\r\nconst imageRef = ref(null)\r\nconst status = ref(200)\r\nconst config = computed(() => {\r\n  return {\r\n    lazy: true,\r\n    ...props.config,\r\n  }\r\n})\r\nconst as = computed(() => (status.value === 200 ? 'figure' : 'div'))\r\nconst hasLazy = computed(() => config.value.lazy)\r\nconst hasMobile = computed(() =>\r\n  props.src && typeof props.src === 'object' ? true : !!/[?&#]m=[^?&#]*/.test(props.src)\r\n)\r\n\r\n// ---- 路徑 ----\r\nconst mobilePath = computed(() => {\r\n  const src =\r\n    props.src && typeof props.src === 'object' && props.src.m\r\n      ? props.src.m\r\n      : props.src && hasMobile.value\r\n        ? `${/.*(?=\\?.*$)/.exec(props.src)[0].replace(/.(\\w+$)/, '_m.$1')}`\r\n        : null\r\n  return resolveBundledImg(src)\r\n})\r\n\r\nconst path = computed(() => {\r\n  const src =\r\n    props.src && typeof props.src === 'object'\r\n      ? props.src.p\r\n      : props.src && hasMobile.value\r\n        ? /.*(?=\\?.*$)/.exec(props.src)[0]\r\n        : props.src\r\n  return resolveBundledImg(src)\r\n})\r\n\r\nconst setClass = computed(() => ({ main: '', img: '', ...props.setClass }))\r\n\r\n// ---- lazy ----\r\nconst onEnterView = (entries, observer) => {\r\n  for (const entry of entries) {\r\n    if (entry.isIntersecting) {\r\n      const image = entry.target\r\n      if (path.value) image.setAttribute('src', path.value)\r\n      observer.unobserve(image)\r\n    }\r\n  }\r\n}\r\n\r\nconst onLazy = () => {\r\n  if (hasLazy.value && 'IntersectionObserver' in window) {\r\n    const imageObserver = new IntersectionObserver(onEnterView)\r\n    const el = imageRef.value\r\n    if (el) imageObserver.observe(el)\r\n  }\r\n}\r\n\r\nwatch(path, (newValue) => {\r\n  if (imageRef.value) imageRef.value.setAttribute('src', newValue || blankUrl)\r\n})\r\n\r\nconst onError = () => {\r\n  status.value = 404\r\n}\r\nonMounted(() => onLazy())\r\n</script>\r\n\r\n<template>\r\n  <component :is=\"as\" class=\"m-figure\" :class=\"setClass.main\" v-if=\"status === 200\">\r\n    <picture v-if=\"mobilePath && hasMobile\">\r\n      <source :srcset=\"mobilePath\" media=\"(max-width: 428px)\" />\r\n      <img\r\n        :src=\"blankUrl\"\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        :loading=\"hasLazy ? 'lazy' : null\"\r\n        ref=\"imageRef\"\r\n        :alt=\"props.alt\"\r\n        :class=\"setClass.img\"\r\n        @error=\"onError\"\r\n      />\r\n    </picture>\r\n    <img\r\n      :src=\"blankUrl\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      :loading=\"hasLazy ? 'lazy' : null\"\r\n      ref=\"imageRef\"\r\n      :alt=\"props.alt\"\r\n      :class=\"setClass.img\"\r\n      @error=\"onError\"\r\n      v-else\r\n    />\r\n  </component>\r\n\r\n  <div class=\"m-figure\" :class=\"setClass.main\" v-else>\r\n    <div class=\"m-figure-error flex items-center justify-center\">\r\n      <SvgIcon class=\"m:h-[36px] m:w-[36px] pt:h-[54px] pt:w-[54px]\" icon=\"image_404\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"postcss\"></style>\r\n","<script setup>\r\nimport ImgSrc from '@components/common/ImgSrc.vue'\r\n\r\nimport { onDevice } from '@js/_prototype.js'\r\n\r\nconst device = ref('p') // 預設值先給 p\r\nconst isDeviceP = computed(() => device.value === 'p')\r\n\r\nconst onResize = () => {\r\n  device.value = onDevice()\r\n}\r\n\r\nonMounted(() => {\r\n  onResize()\r\n  window.addEventListener('resize', onResize)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('resize', onResize)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"m-header mx-auto flex items-center tm:h-[50px] tm:px-[15px] p:h-[60px] p:max-w-[1920px] p:px-[50px]\"\r\n  >\r\n    <div class=\"m-header-logo flex shrink-0 items-center\">\r\n      <ImgSrc\r\n        src=\"buy/logo_text.svg\"\r\n        :setClass=\"{\r\n          main: 'tm:h-[20px] tm:w-[57px] p:h-[25px] p:w-[77px]',\r\n        }\"\r\n      />\r\n      <!-- device 預設值先給 p 平板、手機 先用 css 隱藏；畫面不會跳閃 -->\r\n      <ImgSrc\r\n        src=\"buy/logo_icon.svg\"\r\n        :setClass=\"{\r\n          main: 'tm:hidden p:ml-[4px] p:h-[25px] p:w-[87px]',\r\n        }\"\r\n        v-if=\"isDeviceP\"\r\n      />\r\n      <em class=\"text-[--white] tm:hidden p:ml-[10px] p:text-[24px]\" v-if=\"isDeviceP\">管理後台</em>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"postcss\"></style>\r\n","<script setup>\r\nimport Header from '@components/buy/mHeader.vue'\r\n\r\nimport { useBuyProjectStore } from '@stores/buy/project.js'\r\n\r\nconst project = useBuyProjectStore()\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-wrap\">\r\n    <header class=\"l-header bg-[--gray-666]\">\r\n      <h1 class=\"sr-only\">{{ project.NAME }}</h1>\r\n      <Header />\r\n    </header>\r\n    <main class=\"l-body\">\r\n      <slot />\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n"],"version":3}