{"version":3,"file":"CasePriceUnit.DFguvDxw.js","sources":["../../../../../pages/buy/_components/basic/Price/CasePriceUnit.vue"],"sourcesContent":["<script setup>\r\nimport FormInput from '@components/buy/mForm/Input.vue'\r\nimport FormCheckBox from '@components/buy/mForm/CheckBox.vue'\r\n\r\nimport { useBuyProjectStore } from '@stores/buy/project.js'\r\n\r\nconst buyProject = useBuyProjectStore()\r\nconst { apiData } = storeToRefs(buyProject)\r\nconst isAutoCalc = ref(true)\r\n\r\nconst onIsAutoCalc = () => {\r\n  const {\r\n    casePrice, // 寵價\r\n    caseParkingPrice, // 車位價\r\n    caseBuildSqPin, // 登記坪數\r\n    caseParkingSqPin, // 車位坪數\r\n    isCasePriceIncludeParking, // 總價含車位\r\n    isCasePricePerPinDeductParking, // 扣除車位價\r\n    isCaseBuildSqIncludeParking, // 登記坪數含車位\r\n  } = apiData.value\r\n  if (isAutoCalc.value && casePrice && caseBuildSqPin) {\r\n    const price =\r\n      isCasePriceIncludeParking && isCasePricePerPinDeductParking && caseParkingPrice\r\n        ? Number(casePrice) - Number(caseParkingPrice)\r\n        : Number(casePrice)\r\n    const buildSq =\r\n      isCaseBuildSqIncludeParking && caseParkingSqPin\r\n        ? Number(caseBuildSqPin) - Number(caseParkingSqPin)\r\n        : Number(caseBuildSqPin)\r\n\r\n    apiData.value.casePriceUnit = price / buildSq\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => [\r\n    apiData.value.casePrice,\r\n    apiData.value.caseBuildSqPin,\r\n    apiData.value.caseParkingSqPin,\r\n    apiData.value.isCasePriceIncludeParking,\r\n    apiData.value.isCasePricePerPinDeductParking,\r\n    apiData.value.isCaseBuildSqIncludeParking,\r\n  ],\r\n  () => {\r\n    onIsAutoCalc()\r\n  }\r\n)\r\n</script>\r\n\r\n<template>\r\n  <ul class=\"flex flex-wrap tm:gap-x-[8px] p:gap-x-[24px]\">\r\n    <li>\r\n      <FormInput\r\n        name=\"casePriceUnit\"\r\n        v-model=\"apiData.casePriceUnit\"\r\n        :config=\"{\r\n          inputMode: 'numeric',\r\n          inputChinese: false,\r\n          checkNotIsZero: true,\r\n          comma: true,\r\n          isDisabled: isAutoCalc,\r\n        }\"\r\n        :setClass=\"{\r\n          main: '--height-40 --px-12 --py-8 tm:w-[228px] p:w-[270px]',\r\n          element: 'grow',\r\n          rearAssist: 'text-[14px] text-[--gray-999]',\r\n          suffix: 'text-[14px] text-[--gray-999]',\r\n        }\"\r\n      >\r\n        <template #rearAssist>萬 / 坪</template>\r\n        <template #suffix>單價 = 總價 / 建物登記坪數</template>\r\n      </FormInput>\r\n    </li>\r\n    <li class=\"flex h-[40px] items-center\">\r\n      <FormCheckBox\r\n        name=\"isAutoCalc\"\r\n        v-model=\"isAutoCalc\"\r\n        :config=\"{\r\n          label: '自動計算',\r\n          value: {\r\n            true: true,\r\n            false: false,\r\n          },\r\n        }\"\r\n        :setClass=\"{\r\n          label: 'text-[16px]',\r\n        }\"\r\n      />\r\n    </li>\r\n    <li class=\"flex h-[40px] items-center\">\r\n      <FormCheckBox\r\n        name=\"isCasePricePerPinDeductParking\"\r\n        v-model=\"apiData.isCasePricePerPinDeductParking\"\r\n        :config=\"{\r\n          label: '扣除車位價',\r\n          value: {\r\n            true: true,\r\n            false: false,\r\n          },\r\n        }\"\r\n        :setClass=\"{\r\n          label: 'text-[16px]',\r\n        }\"\r\n      />\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<style></style>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAMA,UAAM,aAAa,mBAAkB;AACrC,UAAM,EAAE,QAAO,IAAK,YAAY,UAAU;AAC1C,UAAM,aAAa,IAAI,IAAI;AAE3B,UAAM,eAAe,MAAM;AACzB,YAAM;AAAA,QACJ;AAAA;AAAA,QACA;AAAA;AAAA,QACA;AAAA;AAAA,QACA;AAAA;AAAA,QACA;AAAA;AAAA,QACA;AAAA;AAAA,QACA;AAAA;AAAA,MACJ,IAAM,QAAQ;AACZ,UAAI,WAAW,SAAS,aAAa,gBAAgB;AACnD,cAAM,QACJ,6BAA6B,kCAAkC,mBAC3D,OAAO,SAAS,IAAI,OAAO,gBAAgB,IAC3C,OAAO,SAAS;AACtB,cAAM,UACJ,+BAA+B,mBAC3B,OAAO,cAAc,IAAI,OAAO,gBAAgB,IAChD,OAAO,cAAc;AAE3B,gBAAQ,MAAM,gBAAgB,QAAQ;AAAA,MACxC;AAAA,IACF;AAEA;AAAA,MACE,MAAM;AAAA,QACJ,QAAQ,MAAM;AAAA,QACd,QAAQ,MAAM;AAAA,QACd,QAAQ,MAAM;AAAA,QACd,QAAQ,MAAM;AAAA,QACd,QAAQ,MAAM;AAAA,QACd,QAAQ,MAAM;AAAA,MAClB;AAAA,MACE,MAAM;AACJ,qBAAY;AAAA,MACd;AAAA,IACF;;AAIM,YAAA,MAAAA,eAAAC,WAAA,EAAA,OAAM,kDAA8C,MAAA,CAAA,CAAA,OAAA;;QAGlD,MAAK;AAAA,QACI,YAAAC,MAAA,OAAA,EAAQ;AAAA,QAAR,uBAAA,YAAAA,MAAA,OAAA,EAAQ,gBAAa;AAAA,QAC7B,QAAM;AAAA;;;;sBAAqJA,MAAA,UAAA;AAAA;QAO3J,UAAU;AAAA;;;;QAKV;AAAA;QAEU,oBAAX,CAAsC,GAAAC,QAAAC,UAAA,aAAA;;;;;8BAAhB,OAAK;AAAA;;;QAChB,gBAAX,CAA6C,GAAAD,QAAAC,UAAA,aAAA;;;;;8BAA3B,kBAAgB;AAAA;;;;;;;QAKlC,MAAK;AAAA,oBACIF,MAAA,UAAA;AAAA,+DAAA,WAAU,QAAA,SAAA;AAAA,QAClB,QAAQ;AAAA;;;;;QAMR;AAAA,QACA,UAAU;AAAA;QAEV;AAAA;;;QAKD,MAAK;AAAA,QACI,YAAAA,MAAA,OAAA,EAAQ;AAAA,QAAR,uBAAA,YAAAA,MAAA,OAAA,EAAQ,iCAA8B;AAAA,QAC9C,QAAQ;AAAA;;;;;QAMR;AAAA,QACA,UAAU;AAAA;QAEV;AAAA;;;;;;;;;;;"}