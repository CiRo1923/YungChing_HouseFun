{"version":3,"file":"Select.BLaGw9UN.js","sources":["../../../../../components/buy/mForm/Select.vue"],"sourcesContent":["<script setup>\r\nimport SvgIcon from '@components/common/SvgIcon.vue'\r\nimport ErrorMessageElem from '@components/buy/mErrorMessageElem.vue'\r\n\r\nimport { onDevice, deepMerge, deepClone, emptyData } from '@js/_prototype.js'\r\n\r\nimport '@js/_validation.js'\r\n\r\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\r\nimport { Field, ErrorMessage } from 'vee-validate'\r\n\r\nconst emits = defineEmits(['update:modelValue', 'change'])\r\nconst props = defineProps({\r\n  name: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  modelValue: {\r\n    type: [String, Number, Boolean, Object],\r\n    default: null,\r\n  },\r\n  options: {\r\n    type: [Array, Object],\r\n    default: null,\r\n  },\r\n  config: {\r\n    type: Object,\r\n    default: () => {},\r\n  },\r\n  rules: {\r\n    type: Object,\r\n    default: null,\r\n  },\r\n  setClass: {\r\n    type: Object,\r\n    default: () => {},\r\n  },\r\n})\r\nconst borderWidth = 0\r\nconst elenemtRef = ref(null)\r\nconst selectRef = ref(null)\r\nconst dropdownRef = ref(null)\r\nconst dropdownContainerRef = ref(null)\r\nconst dropdownItemRef = ref(null)\r\nconst device = ref(null)\r\nconst isFocus = ref(false)\r\nconst isActive = ref(false)\r\nconst selectedIndex = ref(-1)\r\nconst label = ref(null)\r\nconst model = computed({\r\n  get() {\r\n    return props.modelValue\r\n  },\r\n  set(value) {\r\n    emits('update:modelValue', value)\r\n  },\r\n})\r\nconst config = computed(() => {\r\n  const defaultConfig = {\r\n    arrowType: 'caret',\r\n    startOption: null,\r\n    placeholder: null,\r\n    isDisabled: false,\r\n    isError: false,\r\n    position: 'auto',\r\n    // dropdownWidth: 'auto',\r\n    schema: {\r\n      label: 'label',\r\n      value: 'value',\r\n    },\r\n    keyboard: false,\r\n    maxItems: 5,\r\n  }\r\n\r\n  return deepMerge(defaultConfig, props.config)\r\n})\r\n\r\nconst setClass = computed(() => {\r\n  return {\r\n    ...{\r\n      main: '',\r\n      container: '',\r\n      element: '',\r\n      type: '',\r\n      suffix: '',\r\n      error: '',\r\n      dropdown: '',\r\n      dropdownContainer: '',\r\n    },\r\n    ...props.setClass,\r\n  }\r\n})\r\n\r\nconst placeholder = computed(() => {\r\n  const { placeholder } = config.value\r\n  const isObject = placeholder && typeof placeholder !== 'string'\r\n\r\n  return isObject\r\n    ? placeholder\r\n    : {\r\n        value: placeholder,\r\n        isToOption: false,\r\n      }\r\n})\r\n\r\nconst options = computed(() => {\r\n  const { schema } = config.value\r\n  const { value, isToOption } = placeholder.value\r\n  const options = props.options ? deepClone(props.options) : []\r\n  const placeholderItem = emptyData(deepClone(options[0]))\r\n\r\n  if (isToOption) {\r\n    placeholderItem[schema.label] = value\r\n    placeholderItem[schema.value] = ''\r\n\r\n    options.unshift(placeholderItem)\r\n  }\r\n\r\n  return options\r\n})\r\n\r\nconst onSetSelectedIndex = () => {\r\n  const { startOption } = config.value\r\n  let index = -1\r\n\r\n  if (options.value) {\r\n    if (startOption) {\r\n      index = options.value.findIndex((item) => item.value === startOption)\r\n    } else {\r\n      index = options.value.findIndex((item) => item[config.value.schema.value] === model.value)\r\n    }\r\n\r\n    // index = index === -1 ? 0 : index\r\n    label.value = index !== -1 ? options.value[index][config.value.schema.label] : null\r\n  }\r\n\r\n  selectedIndex.value = index\r\n}\r\n\r\nconst onSwitchActive = (value) => {\r\n  isFocus.value = value !== undefined ? value : !isFocus.value\r\n  isActive.value = value !== undefined ? value : !isActive.value\r\n}\r\n\r\nconst onCloseDropdown = () => {\r\n  onSwitchActive(false)\r\n}\r\n\r\nconst onElementClick = async () => {\r\n  onSwitchActive()\r\n\r\n  await nextTick()\r\n  onDropdownOpen()\r\n}\r\n\r\nconst onDropdownOpen = () => {\r\n  const { maxItems } = config.value\r\n  const $elenemt = elenemtRef.value\r\n  const $dropdown = dropdownRef.value\r\n  const $dropdownContainer = dropdownContainerRef.value\r\n  const element = {\r\n    rect: elenemtRef.value.getBoundingClientRect(),\r\n  }\r\n\r\n  if ($elenemt && $dropdown && $dropdownContainer) {\r\n    const hasItemsThanMax = maxItems <= dropdownItemRef.value.length - 1\r\n\r\n    if (hasItemsThanMax) {\r\n      $dropdownContainer.style.overflowY = 'auto'\r\n    }\r\n\r\n    const index = !hasItemsThanMax ? dropdownItemRef.value.length - 1 : maxItems\r\n    const $item = dropdownItemRef.value ? dropdownItemRef.value[index] : null\r\n    const dropdown = {\r\n      rect: dropdownRef.value.getBoundingClientRect(),\r\n    }\r\n    const itemHeight = $item\r\n      ? hasItemsThanMax\r\n        ? $item.offsetTop\r\n        : $item.offsetTop + $item.offsetHeight\r\n      : 0\r\n\r\n    const offsetTop = element.rect.height + element.rect.top + window.scrollY\r\n    const offsetLeftMin = dropdown.rect.width + element.rect.left\r\n    const dropdownWidth =\r\n      dropdown.rect.width < element.rect.width ? element.rect.width : dropdown.rect.width\r\n    const offsetLeftMax = element.rect.width + element.rect.left - dropdownWidth\r\n    const bodyWidth = document.body.scrollWidth\r\n    const left =\r\n      ((offsetLeftMin > bodyWidth && offsetLeftMax < 0) || offsetLeftMin < bodyWidth) &&\r\n      config.value.position !== 'right'\r\n        ? element.rect.left\r\n        : offsetLeftMax\r\n    const maxHeight = itemHeight + borderWidth\r\n\r\n    $dropdown.style.height = `${maxHeight}px`\r\n    $dropdown.style.top = `${offsetTop - borderWidth * 2}px`\r\n    $dropdown.style.left = `${left - borderWidth}px`\r\n\r\n    if (dropdown.rect.width < element.rect.width) {\r\n      $dropdown.style.minWidth = `${element.rect.width}px`\r\n    }\r\n\r\n    // console.log(dropdown.rect.width)\r\n\r\n    // if (config.value.dropdownWidth !== 'auto') {\r\n    //   $dropdown.style.maxWidth = `${config.value.dropdownWidth}px`\r\n    // }\r\n    if (model.value !== null && model.value !== '') {\r\n      selectedIndex.value = options.value.findIndex(\r\n        (item) => item[config.value.schema.value] === model.value\r\n      )\r\n\r\n      const $selectedItem = dropdownItemRef.value[selectedIndex.value]\r\n      const selectedItem = {\r\n        rect: $selectedItem.getBoundingClientRect(),\r\n      }\r\n\r\n      $dropdownContainer.scrollTop =\r\n        $selectedItem.offsetTop + selectedItem.rect.height / 2 - maxHeight / 2\r\n    }\r\n  }\r\n}\r\n\r\nconst onDropdownArrow = (e) => {\r\n  const { code } = e\r\n\r\n  e.preventDefault()\r\n\r\n  if (config.value.keyboard && options.value.length > 0) {\r\n    selectedIndex.value = code === 'ArrowDown' ? ++selectedIndex.value : --selectedIndex.value\r\n\r\n    if (selectedIndex.value >= options.value.length) {\r\n      selectedIndex.value = selectedIndex.value % options.value.length\r\n    } else if (selectedIndex.value < 0) {\r\n      selectedIndex.value = options.value.length - 1\r\n    }\r\n\r\n    const $dropdown = dropdownRef.value\r\n    const $dropdownItemRef = dropdownItemRef.value[selectedIndex.value]\r\n    const dropdown = {\r\n      rect: dropdownRef.value.getBoundingClientRect(),\r\n    }\r\n    const dropdownItem = {\r\n      rect: $dropdownItemRef.getBoundingClientRect(),\r\n    }\r\n\r\n    if (selectedIndex.value !== 0 && selectedIndex.value !== options.value.length - 1) {\r\n      if (code === 'ArrowDown') {\r\n        if ($dropdown.scrollTop + dropdown.rect.height <= $dropdownItemRef.offsetTop) {\r\n          $dropdown.scrollTop = $dropdown.scrollTop + dropdownItem.rect.height\r\n        }\r\n      } else {\r\n        if ($dropdown.scrollTop > $dropdownItemRef.offsetTop) {\r\n          $dropdown.scrollTop = $dropdown.scrollTop - dropdownItem.rect.height\r\n        }\r\n      }\r\n    } else {\r\n      if (selectedIndex.value === 0) {\r\n        $dropdown.scrollTop = 0\r\n      } else {\r\n        $dropdown.scrollTop =\r\n          (options.value.length - config.value.maxItems) * dropdownItem.rect.height\r\n      }\r\n    }\r\n    const result = options.value[selectedIndex.value]\r\n    model.value = result[config.value.schema.value]\r\n    label.value = result[config.value.schema.label]\r\n\r\n    // emits('change', result)\r\n  }\r\n}\r\n\r\nconst onDropdownEnter = () => {\r\n  const $selectRef = selectRef.value\r\n\r\n  onSwitchActive(false)\r\n  $selectRef.blur()\r\n}\r\n\r\nconst onDropdownItemClick = (index) => {\r\n  const { schema } = config.value\r\n  const option = options.value[index]\r\n\r\n  selectedIndex.value = index\r\n  model.value = option[schema.value]\r\n  label.value = option[schema.label]\r\n\r\n  onSwitchActive(false)\r\n  emits('change', option)\r\n}\r\n\r\nconst onOutSide = (e) => {\r\n  const $elenemt = elenemtRef.value\r\n  const $dropdown = dropdownRef.value\r\n  const isElenemtContains = $elenemt ? !$elenemt.contains(e.target) : true\r\n  const isDropdownContains = $dropdown ? !$dropdown.contains(e.target) : true\r\n  const isOutSide = isElenemtContains && isDropdownContains\r\n\r\n  if (isOutSide) {\r\n    onSwitchActive(false)\r\n  }\r\n}\r\n\r\nconst onResize = () => {\r\n  device.value = onDevice()\r\n  onDropdownOpen()\r\n}\r\n\r\nwatch(\r\n  () => model.value,\r\n  () => {\r\n    onSetSelectedIndex()\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => options.value,\r\n  () => {\r\n    onSetSelectedIndex()\r\n  },\r\n  {\r\n    deep: true,\r\n  }\r\n)\r\n\r\nonMounted(() => {\r\n  onSetSelectedIndex()\r\n  onResize()\r\n  document.addEventListener('click', onOutSide, true)\r\n  window.addEventListener('resize', onResize)\r\n})\r\n\r\nonUnmounted(() => {\r\n  document.removeEventListener('click', onOutSide, true)\r\n  window.removeEventListener('resize', onResize)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"m-form\" :class=\"setClass.main\">\r\n    <Field\r\n      :name=\"props.name\"\r\n      v-model=\"model\"\r\n      :rules=\"config.isDisabled ? '' : props.rules\"\r\n      v-slot=\"{ field, errorMessage }\"\r\n    >\r\n      <input type=\"hidden\" :id=\"props.name\" v-bind=\"field\" />\r\n      <div class=\"m-form-container flex\" :class=\"setClass.container\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"m-form-element --select grow text-left\"\r\n          :class=\"[\r\n            setClass.element,\r\n            { '--focus': isFocus },\r\n            { '--error': errorMessage || config.isError },\r\n          ]\"\r\n          :disabled=\"config.isDisabled\"\r\n          ref=\"elenemtRef\"\r\n          @click=\"onElementClick()\"\r\n          @keydown.up=\"onDropdownArrow($event)\"\r\n          @keydown.down=\"onDropdownArrow($event)\"\r\n          @keypress.enter=\"onDropdownEnter\"\r\n        >\r\n          <div\r\n            class=\"m-form-type w-full cursor-pointer truncate\"\r\n            :class=\"[\r\n              setClass.type,\r\n              {\r\n                '--placeholder': !label || !model,\r\n              },\r\n            ]\"\r\n            ref=\"selectRef\"\r\n          >\r\n            <template v-if=\"label\">\r\n              {{ options[selectedIndex][config.schema.label] }}\r\n            </template>\r\n            <template v-else-if=\"!label && placeholder.value\">\r\n              {{ placeholder.value }}\r\n            </template>\r\n          </div>\r\n          <SvgIcon\r\n            icon=\"caret_large_down\"\r\n            class=\"m-form-icon h-[14px] w-[14px] shrink-0 p-[2px] transition-transform duration-300\"\r\n            :class=\"setClass.icon\"\r\n            v-if=\"config.arrowType === 'caret'\"\r\n          />\r\n          <i\r\n            class=\"m-form-icon-arrow h-[16px] w-[16px] shrink-0\"\r\n            v-if=\"config.arrowType === 'arrow'\"\r\n          />\r\n        </button>\r\n        <small class=\"m-form-suffix\" :class=\"setClass.suffix\" v-if=\"$slots.suffix\">\r\n          <slot name=\"suffix\" />\r\n        </small>\r\n      </div>\r\n    </Field>\r\n    <ErrorMessage\r\n      as=\"span\"\r\n      :name=\"props.name\"\r\n      class=\"m-form-error\"\r\n      :class=\"setClass.error\"\r\n      v-slot=\"{ message }\"\r\n    >\r\n      <ErrorMessageElem :message=\"message\" />\r\n    </ErrorMessage>\r\n  </div>\r\n  <Teleport to=\"body\">\r\n    <Transition name=\"select-dropdown\" @afterLeave=\"onCloseDropdown\" appear>\r\n      <div\r\n        class=\"m-select-dropdown absolute z-[5] mt-[3px] overflow-hidden\"\r\n        :class=\"setClass.dropdown\"\r\n        ref=\"dropdownRef\"\r\n        v-if=\"isActive && options && options.length !== 0 && !config.isDisabled\"\r\n      >\r\n        <ul\r\n          class=\"m-select-dropdown-container max-h-full bg-[--white]\"\r\n          :class=\"setClass.dropdownContainer\"\r\n          ref=\"dropdownContainerRef\"\r\n        >\r\n          <li\r\n            class=\"m-select-dropdown-item\"\r\n            v-for=\"(item, index) in options\"\r\n            :key=\"`${item}_${index}`\"\r\n            ref=\"dropdownItemRef\"\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"m-select-dropdown-button block w-full px-[8px] text-left transition-colors duration-300\"\r\n              :class=\"{\r\n                '--active': index === selectedIndex,\r\n              }\"\r\n              :disabled=\"item[config.schema.isDisabled] === true\"\r\n              @click=\"onDropdownItemClick(index)\"\r\n            >\r\n              <em class=\"m-select-dropdown-label relative block grow py-[8px] text-[14px]\">\r\n                <slot name=\"option\" :item=\"item\">\r\n                  {{ item[config.schema.label] }}\r\n                </slot>\r\n              </em>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </Transition>\r\n  </Teleport>\r\n</template>\r\n\r\n<style src=\"@css/_modules/buy/mForm.css\"></style>\r\n<style src=\"@css/_modules/_vueTransition.css\"></style>\r\n<style lang=\"postcss\">\r\n.m-form-element {\r\n  &.\\-\\-select {\r\n    &.\\-\\-focus {\r\n      .m-form-icon {\r\n        @apply -rotate-180;\r\n      }\r\n\r\n      .m-form-icon-arrow {\r\n        &:before {\r\n          @apply -rotate-180;\r\n        }\r\n      }\r\n    }\r\n\r\n    &:not(:disabled) {\r\n      .m-form-icon {\r\n        @apply text-[--gray-999];\r\n      }\r\n    }\r\n\r\n    &:disabled {\r\n      .m-form-icon {\r\n        @apply text-[--gray-ccce];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.m-form-icon-arrow {\r\n  &:before {\r\n    @apply block h-0 w-0 border-x-[3px] border-t-[5px] border-transparent border-t-[--gray-222] transition-transform duration-300 content-default;\r\n  }\r\n}\r\n\r\n.m-select-dropdown {\r\n  box-shadow:\r\n    0px 4px 24px 0px #02041614,\r\n    0px 2px 16px -8px #02041633;\r\n}\r\n\r\n.m-select-dropdown-button {\r\n  &:not(:disabled) {\r\n    @apply text-[--gray-333];\r\n\r\n    /* &:not(.\\-\\-active) {\r\n    } */\r\n\r\n    &.\\-\\-active {\r\n      @apply bg-[--orange-feea];\r\n    }\r\n  }\r\n\r\n  &:disabled {\r\n    @apply text-[--gray-3334d];\r\n  }\r\n}\r\n\r\n.m-select-dropdown-item {\r\n  &:not(:last-child) {\r\n    .m-select-dropdown-button {\r\n      &:after {\r\n        @apply block h-[1px] w-full bg-[--gray-e5] opacity-30 content-default;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["placeholder","options","_ssrRenderClass","_push","_parent","_ssrIncludeBooleanAttr","_ssrInterpolate","$slots","_createVNode","_mergeProps","_withKeys","_createBlock","_Fragment","_createTextVNode","_toDisplayString","SvgIcon","_renderSlot","_ssrRenderComponent","ErrorMessageElem","_ssrRenderSlot"],"mappings":";;;;;;AAsCA,MAAM,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA3BpB,UAAM,QAAQ;AACd,UAAM,QAAQ;AA2Bd,UAAM,aAAa,IAAI,IAAI;AAC3B,UAAM,YAAY,IAAI,IAAI;AAC1B,UAAM,cAAc,IAAI,IAAI;AAC5B,UAAM,uBAAuB,IAAI,IAAI;AACrC,UAAM,kBAAkB,IAAI,IAAI;AACjB,QAAI,IAAI;AACvB,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,WAAW,IAAI,KAAK;AAC1B,UAAM,gBAAgB,IAAI,EAAE;AAC5B,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,QAAQ,SAAS;AAAA,MACrB,MAAM;AACJ,eAAO,MAAM;AAAA,MACf;AAAA,MACA,IAAI,OAAO;AACT,cAAM,qBAAqB,KAAK;AAAA,MAClC;AAAA,IAAA,CACD;AACD,UAAM,SAAS,SAAS,MAAM;AAC5B,YAAM,gBAAgB;AAAA,QACpB,WAAW;AAAA,QACX,aAAa;AAAA,QACb,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,UAAU;AAAA;AAAA,QAEV,QAAQ;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,QAAA;AAAA,QAET,UAAU;AAAA,QACV,UAAU;AAAA,MAAA;AAGZ,aAAO,UAAU,eAAe,MAAM,MAAM;AAAA,IAC9C,CAAC;AAED,UAAM,WAAW,SAAS,MAAM;AAC9B,aAAO;AAAA,QACL,GAAG;AAAA,UACD,MAAM;AAAA,UACN,WAAW;AAAA,UACX,SAAS;AAAA,UACT,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,UAAU;AAAA,UACV,mBAAmB;AAAA,QAAA;AAAA,QAErB,GAAG,MAAM;AAAA,MAAA;AAAA,IAEb,CAAC;AAED,UAAM,cAAc,SAAS,MAAM;AACjC,YAAM,EAAE,aAAAA,aAAAA,IAAgB,OAAO;AAC/B,YAAM,WAAWA,gBAAe,OAAOA,iBAAgB;AAEvD,aAAO,WACHA,eACA;AAAA,QACE,OAAOA;AAAAA,QACP,YAAY;AAAA,MAAA;AAAA,IAEpB,CAAC;AAED,UAAM,UAAU,SAAS,MAAM;AAC7B,YAAM,EAAE,WAAW,OAAO;AAC1B,YAAM,EAAE,OAAO,WAAA,IAAe,YAAY;AAC1C,YAAMC,WAAU,MAAM,UAAU,UAAU,MAAM,OAAO,IAAI,CAAA;AAC3D,YAAM,kBAAkB,UAAU,UAAUA,SAAQ,CAAC,CAAC,CAAC;AAEvD,UAAI,YAAY;AACd,wBAAgB,OAAO,KAAK,IAAI;AAChC,wBAAgB,OAAO,KAAK,IAAI;AAEhCA,iBAAQ,QAAQ,eAAe;AAAA,MACjC;AAEA,aAAOA;AAAAA,IACT,CAAC;AAED,UAAM,qBAAqB,MAAM;AAC/B,YAAM,EAAE,gBAAgB,OAAO;AAC/B,UAAI,QAAQ;AAEZ,UAAI,QAAQ,OAAO;AACjB,YAAI,aAAa;AACf,kBAAQ,QAAQ,MAAM,UAAU,CAAC,SAAS,KAAK,UAAU,WAAW;AAAA,QACtE,OAAO;AACL,kBAAQ,QAAQ,MAAM,UAAU,CAAC,SAAS,KAAK,OAAO,MAAM,OAAO,KAAK,MAAM,MAAM,KAAK;AAAA,QAC3F;AAGA,cAAM,QAAQ,UAAU,KAAK,QAAQ,MAAM,KAAK,EAAE,OAAO,MAAM,OAAO,KAAK,IAAI;AAAA,MACjF;AAEA,oBAAc,QAAQ;AAAA,IACxB;AAEA,UAAM,iBAAiB,CAAC,UAAU;AAChC,cAAQ,QAAQ,UAAU,SAAY,QAAQ,CAAC,QAAQ;AACvD,eAAS,QAAQ,UAAU,SAAY,QAAQ,CAAC,SAAS;AAAA,IAC3D;AAMA,UAAM,iBAAiB,YAAY;AACjC,qBAAA;AAEA,YAAM,SAAA;AACN,qBAAA;AAAA,IACF;AAEA,UAAM,iBAAiB,MAAM;AAC3B,YAAM,EAAE,aAAa,OAAO;AAC5B,YAAM,WAAW,WAAW;AAC5B,YAAM,YAAY,YAAY;AAC9B,YAAM,qBAAqB,qBAAqB;AAChD,YAAM,UAAU;AAAA,QACd,MAAM,WAAW,MAAM,sBAAA;AAAA,MAAsB;AAG/C,UAAI,YAAY,aAAa,oBAAoB;AAC/C,cAAM,kBAAkB,YAAY,gBAAgB,MAAM,SAAS;AAEnE,YAAI,iBAAiB;AACnB,6BAAmB,MAAM,YAAY;AAAA,QACvC;AAEA,cAAM,QAAQ,CAAC,kBAAkB,gBAAgB,MAAM,SAAS,IAAI;AACpE,cAAM,QAAQ,gBAAgB,QAAQ,gBAAgB,MAAM,KAAK,IAAI;AACrE,cAAM,WAAW;AAAA,UACf,MAAM,YAAY,MAAM,sBAAA;AAAA,QAAsB;AAEhD,cAAM,aAAa,QACf,kBACE,MAAM,YACN,MAAM,YAAY,MAAM,eAC1B;AAEJ,cAAM,YAAY,QAAQ,KAAK,SAAS,QAAQ,KAAK,MAAM,SAAO;AAClE,cAAM,gBAAgB,SAAS,KAAK,QAAQ,QAAQ,KAAK;AACzD,cAAM,gBACJ,SAAS,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,SAAS,KAAK;AAChF,cAAM,gBAAgB,QAAQ,KAAK,QAAQ,QAAQ,KAAK,OAAO;AAC/D,cAAM,qBAAqB,KAAK;AAChC,cAAM,QACF,gBAAgB,aAAa,gBAAgB,KAAM,gBAAgB,cACrE,OAAO,MAAM,aAAa,UACtB,QAAQ,KAAK,OACb;AACN,cAAM,YAAY,aAAa;AAE/B,kBAAU,MAAM,SAAS,GAAG,SAAS;AACrC,kBAAU,MAAM,MAAM,GAAG,YAAY,cAAc,CAAC;AACpD,kBAAU,MAAM,OAAO,GAAG,OAAO,WAAW;AAE5C,YAAI,SAAS,KAAK,QAAQ,QAAQ,KAAK,OAAO;AAC5C,oBAAU,MAAM,WAAW,GAAG,QAAQ,KAAK,KAAK;AAAA,QAClD;AAOA,YAAI,MAAM,UAAU,QAAQ,MAAM,UAAU,IAAI;AAC9C,wBAAc,QAAQ,QAAQ,MAAM;AAAA,YAClC,CAAC,SAAS,KAAK,OAAO,MAAM,OAAO,KAAK,MAAM,MAAM;AAAA,UAAA;AAGtD,gBAAM,gBAAgB,gBAAgB,MAAM,cAAc,KAAK;AAC/D,gBAAM,eAAe;AAAA,YACnB,MAAM,cAAc,sBAAA;AAAA,UAAsB;AAG5C,6BAAmB,YACjB,cAAc,YAAY,aAAa,KAAK,SAAS,IAAI,YAAY;AAAA,QACzE;AAAA,MACF;AAAA,IACF;AAEA,UAAM,kBAAkB,CAAC,MAAM;AAC7B,YAAM,EAAE,SAAS;AAEjB,QAAE,eAAA;AAEF,UAAI,OAAO,MAAM,YAAY,QAAQ,MAAM,SAAS,GAAG;AACrD,sBAAc,QAAQ,SAAS,cAAc,EAAE,cAAc,QAAQ,EAAE,cAAc;AAErF,YAAI,cAAc,SAAS,QAAQ,MAAM,QAAQ;AAC/C,wBAAc,QAAQ,cAAc,QAAQ,QAAQ,MAAM;AAAA,QAC5D,WAAW,cAAc,QAAQ,GAAG;AAClC,wBAAc,QAAQ,QAAQ,MAAM,SAAS;AAAA,QAC/C;AAEA,cAAM,YAAY,YAAY;AAC9B,cAAM,mBAAmB,gBAAgB,MAAM,cAAc,KAAK;AAClE,cAAM,WAAW;AAAA,UACf,MAAM,YAAY,MAAM,sBAAA;AAAA,QAAsB;AAEhD,cAAM,eAAe;AAAA,UACnB,MAAM,iBAAiB,sBAAA;AAAA,QAAsB;AAG/C,YAAI,cAAc,UAAU,KAAK,cAAc,UAAU,QAAQ,MAAM,SAAS,GAAG;AACjF,cAAI,SAAS,aAAa;AACxB,gBAAI,UAAU,YAAY,SAAS,KAAK,UAAU,iBAAiB,WAAW;AAC5E,wBAAU,YAAY,UAAU,YAAY,aAAa,KAAK;AAAA,YAChE;AAAA,UACF,OAAO;AACL,gBAAI,UAAU,YAAY,iBAAiB,WAAW;AACpD,wBAAU,YAAY,UAAU,YAAY,aAAa,KAAK;AAAA,YAChE;AAAA,UACF;AAAA,QACF,OAAO;AACL,cAAI,cAAc,UAAU,GAAG;AAC7B,sBAAU,YAAY;AAAA,UACxB,OAAO;AACL,sBAAU,aACP,QAAQ,MAAM,SAAS,OAAO,MAAM,YAAY,aAAa,KAAK;AAAA,UACvE;AAAA,QACF;AACA,cAAM,SAAS,QAAQ,MAAM,cAAc,KAAK;AAChD,cAAM,QAAQ,OAAO,OAAO,MAAM,OAAO,KAAK;AAC9C,cAAM,QAAQ,OAAO,OAAO,MAAM,OAAO,KAAK;AAAA,MAGhD;AAAA,IACF;AAEA,UAAM,kBAAkB,MAAM;AAC5B,YAAM,aAAa,UAAU;AAE7B,qBAAe,KAAK;AACpB,iBAAW,KAAA;AAAA,IACb;AA+BA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,MAAM;AACJ,2BAAA;AAAA,MACF;AAAA,IAAA;AAGF;AAAA,MACE,MAAM,QAAQ;AAAA,MACd,MAAM;AACJ,2BAAA;AAAA,MACF;AAAA,MACA;AAAA,QACE,MAAM;AAAA,MAAA;AAAA,IACR;;AAiB4B,YAAA,uBAAAC,eAAA,CAAA,SAAA,MAAS,MAAI,QAAA,CAAA,CAAA,IAAA;;QAEpC,MAAM,MAAM;AAAA,oBACJ,MAAA;AAAA,2CAAA,MAAK,QAAA;AAAA,QACb,OAAO,OAAA,MAAO,aAAU,KAAQ,MAAM;AAAA,MAAA;yBAHzC,CAuDQ,EAAA,OAAA,aAAA,GAAAC,QAAAC,UAAA,aAAA;;;cAjDC,MAAK;AAAA,cAAU,IAAI,MAAM;AAAA,YAAA,GAAc,KAAK,CAAA,4BACRF,eAAA,CAAA,SAAA,MAAS,WAAS,uBAAA,CAAA;cAIlC,SAAA,MAAS;AAAA,2BAAmC,QAAA,MAAA;AAAA,2BAAqC,gBAAgB,OAAA,MAAO,QAAA;AAAA,YAAO,iDAK3HG,sBAAA,OAAA,MAAO,UAAU,IAAA,cAAA;cASD,SAAA,MAAS;AAAA;gBAA0D,iBAAA,CAAA,MAAA,UAAU,MAAA;AAAA,cAAA;AAAA;gBAQtF,MAAA,OAAK;AAChBF,qBAAA,WAAAG,eAAA,QAAA,MAAQ,cAAA,KAAa,EAAE,aAAO,OAAO,KAAK,CAAA,CAAA,UAAA;AAAA,wBAEzB,MAAA,SAAS,YAAA,MAAY,OAAK;AAC3CH,qBAAA,WAAAG,eAAA,YAAA,MAAY,KAAK,CAAA,UAAA;AAAA;;;;AAOhB,gBAAA,OAAA,MAAO,cAAS,SAAA;;gBAHtB,MAAK;AAAA,gBACL,OAAK,CAAC,oFACE,SAAA,MAAS,IAAI;AAAA,cAAA;;;;AAKf,gBAAA,OAAA,MAAO,cAAS,SAAA;;;;;;AAGkCC,gBAAAA,KAAAA,OAAO,QAAM;sCAApCL,eAAA,CAAA,SAAA,MAAS,QAAM,eAAA,CAAA;;;;;;;;;cA7CtDM,YAAuD,SAAvDC,WAAuD;AAAA,gBAAhD,MAAK;AAAA,gBAAU,IAAI,MAAM;AAAA,cAAA,GAAc,KAAK,GAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AAAA,cACnDD,YA+CM,OAAA;AAAA,gBA/CD,OAAK,CAAC,yBAAgC,SAAA,MAAS,SAAS;AAAA,cAAA;gBAC3DA,YA0CS,UAAA;AAAA,kBAzCP,MAAK;AAAA,kBACL,QAAM,0CAAwC;AAAA,oBACvB,SAAA,MAAS;AAAA,iCAAmC,QAAA,MAAA;AAAA,iCAAqC,gBAAgB,OAAA,MAAO,QAAA;AAAA,kBAAO;kBAKrI,UAAU,OAAA,MAAO;AAAA,2BACd;AAAA,kBAAJ,KAAI;AAAA,kBACH,qBAAO,eAAA;AAAA,kBACP,WAAO;AAAA,oBAAKE,SAAA,CAAA,WAAA,gBAAgB,MAAM,GAAA,CAAA,IAAA,CAAA;AAAA,oBACpBA,SAAA,CAAA,WAAA,gBAAgB,MAAM,GAAA,CAAA,MAAA,CAAA;AAAA,kBAAA;AAAA,kBACpC,qBAAgB,iBAAe,CAAA,OAAA,CAAA;AAAA,gBAAA;kBAEhCF,YAgBM,OAAA;AAAA,oBAfJ,QAAM,8CAA4C;AAAA,sBACzB,SAAA,MAAS;AAAA;wBAA0D,iBAAA,CAAA,MAAA,UAAU,MAAA;AAAA,sBAAA;AAAA;6BAMlG;AAAA,oBAAJ,KAAI;AAAA,kBAAA;oBAEY,MAAA,sBAAhBG,YAEWC,UAAA,EAAA,KAAA,KAAA;AAAA,sBADNC,gBAAAC,gBAAA,QAAA,MAAQ,cAAA,KAAa,EAAE,aAAO,OAAO,KAAK,CAAA,GAAA,CAAA;AAAA,oBAAA,WAEzB,MAAA,SAAS,YAAA,MAAY,sBAA3CH,YAEWC,UAAA,EAAA,KAAA,KAAA;AAAA,sBADNC,gBAAAC,gBAAA,YAAA,MAAY,KAAK,GAAA,CAAA;AAAA,oBAAA;;kBAOhB,OAAA,MAAO,cAAS,wBAJxBH,YAKEI,aAAA;AAAA;oBAJA,MAAK;AAAA,oBACL,OAAK,CAAC,oFACE,SAAA,MAAS,IAAI;AAAA,kBAAA;kBAKf,OAAA,MAAO,cAAS,wBAFxBJ,YAGE,KAAA;AAAA;oBAFA,OAAM;AAAA,kBAAA;;gBAIkDJ,KAAAA,OAAO,uBAAnEI,YAEQ,SAAA;AAAA;kBAFD,OAAK,CAAC,iBAAwB,SAAA,MAAS,MAAM;AAAA,gBAAA;kBAClDK,WAAsB,KAAA,QAAA,QAAA;AAAA,gBAAA;;;;;;;;QAK1B,IAAG;AAAA,QACF,MAAM,MAAM;AAAA,QACb,OAAK,CAAC,gBACE,SAAA,MAAS,KAAK;AAAA,MAAA;yBAJxB,CAQe,EAAA,WAAAb,QAAAC,UAAA,aAAA;;AADMD,mBAAAc,mBAAAC,aAAA,EAAA,WAAgB,MAAAd,UAAA,QAAA,CAAA;AAAA;;cAAnCI,YAAuCU,aAAA,EAApB,QAAA,GAAgB,MAAA,GAAA,CAAA,SAAA,CAAA;AAAA,YAAA;AAAA;;;;;+BAGvC,CAsCWf,WAAA;;YAhCC,SAAA,SAAY,iBAAW,QAAA,MAAQ,WAAM,KAAA,CAAW,OAAA,MAAO,YAAU;gCAF/DD,eAAA,CAAA,SAAA,MAAS,UAAQ,2DAAA,CAAA,iBAMfA,eAAA,CAAA,SAAA,MAAS,mBAAiB,qDAAA,CAAA;wBAKR,QAAA,OAAO,CAAvB,MAAM,UAAK;;cAOsB,YAAA,UAAU,cAAA;AAAA,YAAA,kGAGtCG,sBAAA,KAAK,OAAA,MAAO,OAAO,UAAU,MAAA,IAAA,IAAA,cAAA;AAIjBc,0BAAA,KAAA,QAAA,UAAA,EAAA,KAAA,GAAU,MAAA;AAC1BhB,qBAAA,GAAAG,eAAA,KAAK,OAAA,MAAO,OAAO,KAAK,CAAA,CAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;"}