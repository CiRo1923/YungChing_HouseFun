{"file":"TabCheck.CbbEFW_4.js","mappings":"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","names":["_unref","_ssrRenderClass","_ssrRenderList","_ssrRenderVNode","_createVNode","_resolveDynamicComponent","_mergeProps","_push","_parent","_ssrInterpolate","_createBlock","SvgIcon","_renderSlot","_toDisplayString","TabCheckURL","TabCheckAddress","TabCheckID"],"sources":["../../../../../components/buy/mTab/Check.vue","../../../../../pages/buy/_components/basic/TabCheck.vue"],"sourcesContent":["<script setup>\r\nimport SvgIcon from '@components/common/SvgIcon.vue'\r\n\r\nconst props = defineProps({\r\n  options: {\r\n    type: Array,\r\n    default: () => [],\r\n  },\r\n  config: {\r\n    type: Object,\r\n    default: () => ({}),\r\n  },\r\n  setClass: {\r\n    type: Object,\r\n    default: () => ({}),\r\n  },\r\n})\r\nconst activeIndex = ref(0)\r\n// 切換動畫用\r\nconst rafId = ref(null)\r\nconst prevIndex = ref(null)\r\nconst direction = ref(null)\r\nconst animating = ref(null)\r\nconst isShowItem = ref(false)\r\n\r\nconst config = computed(() => {\r\n  return {\r\n    active: 0,\r\n    ...props.config,\r\n  }\r\n})\r\n\r\nconst setClass = computed(() => {\r\n  return {\r\n    main: '',\r\n    header: '',\r\n    headerItem: '',\r\n    anchor: '',\r\n    body: '',\r\n    ...props.setClass,\r\n  }\r\n})\r\n\r\nconst onHeaderAs = (item) => {\r\n  const { to, href } = item\r\n\r\n  return href ? 'a' : to ? 'router-link' : 'button'\r\n}\r\n\r\nconst onHeaderBind = (item) => {\r\n  const as = onHeaderAs(item)\r\n  const { to, href, target } = item\r\n\r\n  return as === 'router-link'\r\n    ? {\r\n        to: to,\r\n        ...(target\r\n          ? {\r\n              target,\r\n              rel: 'noopener',\r\n            }\r\n          : {}),\r\n      }\r\n    : as === 'a'\r\n      ? {\r\n          href: href,\r\n          target: '_blank',\r\n          rel: 'noopener',\r\n        }\r\n      : {\r\n          type: as,\r\n        }\r\n}\r\n\r\nconst onInit = async () => {\r\n  const { active } = config.value\r\n  activeIndex.value = active\r\n  // prevIndex.value = active\r\n}\r\n\r\nconst onStartAnimate = () => {\r\n  onCancelAnimationFram()\r\n\r\n  // 先清掉 animating，確保是「無 transition 的初始狀態」\r\n  animating.value = null\r\n\r\n  // 下一個 frame 再開啟 transition\r\n  rafId.value = requestAnimationFrame(() => {\r\n    animating.value = '--animating'\r\n    rafId.value = null\r\n\r\n    if (!direction.value) {\r\n      onReset()\r\n    }\r\n  })\r\n}\r\n\r\nconst onClick = async (item, index) => {\r\n  const { href, to } = item\r\n  const isURL = !!(href || to)\r\n\r\n  if (isURL) return\r\n  if (isShowItem.value) return\r\n  // if (prevIndex.value === activeIndex.value) return\r\n\r\n  prevIndex.value = activeIndex.value // 儲存上一次點擊的 activeIndex\r\n  activeIndex.value = index\r\n  direction.value =\r\n    activeIndex.value > prevIndex.value\r\n      ? '--left'\r\n      : activeIndex.value < prevIndex.value\r\n        ? '--right'\r\n        : null\r\n  isShowItem.value = direction.value ? true : false\r\n\r\n  await nextTick()\r\n  onStartAnimate()\r\n}\r\n\r\n//  動畫結束\r\nconst onTrackTransitionEnd = async (e) => {\r\n  if (e.propertyName !== 'transform') return\r\n  if (!isShowItem.value) return\r\n\r\n  onReset()\r\n}\r\n\r\nconst onCancelAnimationFram = () => {\r\n  if (rafId.value != null) cancelAnimationFrame(rafId.value)\r\n}\r\n\r\nconst onReset = () => {\r\n  animating.value = null\r\n  direction.value = null\r\n  isShowItem.value = false\r\n  prevIndex.value = null\r\n}\r\n\r\nonUnmounted(() => {\r\n  onCancelAnimationFram()\r\n})\r\n\r\nonMounted(() => {\r\n  onInit()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"m-tab --check\" :class=\"setClass.main\">\r\n    <ul class=\"m-tab-header flex gap-x-[8px]\" :class=\"setClass.header\">\r\n      <li\r\n        class=\"m-tab-header-item flex items-center\"\r\n        :class=\"[{ '--active': index === activeIndex }, setClass.headerItem]\"\r\n        v-for=\"(item, index) in props.options\"\r\n        :key=\"`tab_header_${item.label}_${index}`\"\r\n      >\r\n        <component\r\n          :is=\"onHeaderAs(item)\"\r\n          class=\"m-tab-anchor flex w-full items-center justify-center gap-x-[4px] rounded-t-[15px] px-[9px] py-[8px] text-[16px] transition-colors duration-300\"\r\n          :class=\"setClass.anchor\"\r\n          v-bind=\"onHeaderBind(item)\"\r\n          @click=\"onClick(item, index)\"\r\n        >\r\n          <SvgIcon icon=\"icon_check_solid\" class=\"h-[16px] w-[16px]\" v-if=\"index === activeIndex\" />\r\n          <slot name=\"header\" :item=\"item\" :index=\"index\">\r\n            <b class=\"font-semibold\">{{ item.label }}</b>\r\n          </slot>\r\n        </component>\r\n      </li>\r\n    </ul>\r\n    <div class=\"m-tab-body border-t-[4px] border-t-[--orange-e646]\" :class=\"setClass.body\">\r\n      <div\r\n        class=\"m-table-body-content overflow-hidden rounded-b-[15px] border-transparent bg-[--white]\"\r\n      >\r\n        <ul\r\n          class=\"m-tab-body-items flex w-[200%] will-change-transform\"\r\n          :class=\"[animating, direction]\"\r\n          @transitionend=\"onTrackTransitionEnd\"\r\n        >\r\n          <template v-for=\"(item, index) in props.options\" :key=\"`tab_body_${item.label}_${index}`\">\r\n            <li\r\n              class=\"m-tab-body-item w-1/2 shrink-0\"\r\n              v-if=\"!item.href && (index === activeIndex || (isShowItem && index === prevIndex))\"\r\n            >\r\n              <slot :name=\"`content_${index}`\" :index=\"index\" />\r\n            </li>\r\n          </template>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style src=\"@css/_modules/buy/mTab.css\"></style>\r\n<style lang=\"postcss\">\r\n.m-tab {\r\n  &.\\-\\-check {\r\n    .m-tab-header-item {\r\n      &:not(.\\-\\-active) {\r\n        .m-tab-anchor {\r\n          @apply bg-[--white] text-[--gray-666];\r\n        }\r\n      }\r\n\r\n      &.\\-\\-active {\r\n        .m-tab-anchor {\r\n          @apply bg-[--orange-e646] text-[--white];\r\n        }\r\n      }\r\n    }\r\n\r\n    .m-tab-body-items {\r\n      &.\\-\\-animating {\r\n        @apply transition-transform duration-300;\r\n\r\n        &.\\-\\-left {\r\n          @apply -translate-x-1/2;\r\n        }\r\n\r\n        &.\\-\\-right {\r\n          @apply translate-x-0;\r\n        }\r\n      }\r\n\r\n      &.\\-\\-right {\r\n        @apply -translate-x-1/2;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup>\r\nimport TabCheck from '@components/buy/mTab/Check.vue'\r\n\r\nimport TabCheckURL from '@pages/buy/_components/basic/TabCheckURL.vue'\r\nimport TabCheckAddress from '@pages/buy/_components/basic/TabCheckAddress.vue'\r\nimport TabCheckID from '@pages/buy/_components/basic/TabCheckID.vue'\r\n\r\nconst options = readonly([\r\n  {\r\n    label: '網址匯入',\r\n  },\r\n  {\r\n    label: '地址匯入',\r\n  },\r\n  {\r\n    label: '建號匯入',\r\n  },\r\n])\r\n</script>\r\n\r\n<template>\r\n  <TabCheck\r\n    :options=\"options\"\r\n    :setClass=\"{\r\n      main: '--anchor-height-40 --body-py-32 p:--body-px-40 p:--body-py-32 tm:--body-px-16',\r\n      headerItem: 'tm:flex-1 p:min-w-[160px]',\r\n    }\"\r\n  >\r\n    <!-- 網址匯入 -->\r\n    <template #content_0>\r\n      <TabCheckURL />\r\n    </template>\r\n    <!-- 地址匯入 -->\r\n    <template #content_1>\r\n      <TabCheckAddress />\r\n    </template>\r\n    <!-- 建號匯入 -->\r\n    <template #content_2>\r\n      <TabCheckID />\r\n    </template>\r\n  </TabCheck>\r\n</template>\r\n\r\n<style></style>\r\n"],"version":3}